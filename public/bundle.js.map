{"version":3,"file":"bundle.js","sources":["../node_modules/svelte/internal/index.mjs","../node_modules/svelte/store/index.mjs","../src/ui.js","../src/Link.svelte","../node_modules/esqlate-lib/pegjs/parser.js","../node_modules/esqlate-lib/dist/convert.js","../src/controls.js","../node_modules/debounce/index.js","../src/ResultTable.svelte","../src/ParameterDateOrDatetime.svelte","../src/ParameterPopup.svelte","../src/Parameter.svelte","../src/Highlighter.svelte","../src/MainLinks.svelte","../src/App.svelte","../node_modules/esqlate-waitfor/dist/index.js","../src/getFullUrlFromResponseUrl.js","../../wv-linewise/js-lib/dist/wv-linewise.js","../../wv-linewise/js-lib/dist/wv-linewise-buffer.js","../../wv-linewise/js-lib/dist/wv-linewise-fetch.js","../../wv-linewise/js-lib/dist/main.js","../src/io.js","../src/middleware.js","../src/js-wrap-wv-linewise-js-lib.js","../node_modules/esqlate-cache/dist/index.js","../src/promiseChain.js","../src/user-actions.js","../src/storage.js","../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            let j = 0;\n            const remove = [];\n            while (j < node.attributes.length) {\n                const attribute = node.attributes[j++];\n                if (!attributes[attribute.name]) {\n                    remove.push(attribute.name);\n                }\n            }\n            for (let k = 0; k < remove.length; k++) {\n                node.removeAttribute(remove[k]);\n            }\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    const z_index = (parseInt(computed_style.zIndex) || 0) - 1;\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', `display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ` +\n        `overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ${z_index};`);\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = `data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>`;\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(anchor = null) {\n        this.a = anchor;\n        this.e = this.n = null;\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.h(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = node.ownerDocument;\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = doc.head.appendChild(element('style')).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ``}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error(`Function called outside component initialization`);\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            info.blocks[i] = null;\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error(`Cannot have duplicate keys in a keyed each`);\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += \" \" + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += \" \" + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : ``;\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const prop_values = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, prop_values, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.25.1' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev(\"SvelteDOMRemove\", { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? [\"capture\"] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev(\"SvelteDOMAddEventListener\", { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev(\"SvelteDOMRemoveEventListener\", { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev(\"SvelteDOMRemoveAttribute\", { node, attribute });\n    else\n        dispatch_dev(\"SvelteDOMSetAttribute\", { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev(\"SvelteDOMSetProperty\", { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev(\"SvelteDOMSetDataset\", { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev(\"SvelteDOMSetData\", { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(`'target' is a required option`);\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn(`Component was already destroyed`); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error(`Infinite loop detected`);\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, update_slot, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal';\nexport { get_store_value as get } from '../internal';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = [];\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (let i = 0; i < subscribers.length; i += 1) {\n                    const s = subscribers[i];\n                    s[1]();\n                    subscriber_queue.push(s, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.push(subscriber);\n        if (subscribers.length === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            const index = subscribers.indexOf(subscriber);\n            if (index !== -1) {\n                subscribers.splice(index, 1);\n            }\n            if (subscribers.length === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getHightlightString = exports.LineType = exports.getHightlightPositions = exports.processDateTime = exports.ProcessDateTimeWhich = exports.initializeDateTime = exports.getStep = void 0;\nfunction getStep(decimalPlaceCount) {\n    let i = 0;\n    let r = \"0.\";\n    while (i++ < decimalPlaceCount) {\n        if (i >= decimalPlaceCount) {\n            return r + \"1\";\n        }\n        r = r + \"0\";\n    }\n    return \"1\";\n}\nexports.getStep = getStep;\nfunction initializeDateTime(control) {\n    const indexOfT = control.value.indexOf('T');\n    const date = control.date ?\n        control.date :\n        indexOfT > -1 ?\n            control.value.substring(0, indexOfT) :\n            \"\";\n    const time = control.time ?\n        control.time :\n        indexOfT > -1 ?\n            control.value.substring(indexOfT + 1) :\n            \"\";\n    return { value: (date && time) ? date + 'T' + time : '', date, time };\n}\nexports.initializeDateTime = initializeDateTime;\nvar ProcessDateTimeWhich;\n(function (ProcessDateTimeWhich) {\n    ProcessDateTimeWhich[\"DATE\"] = \"DATE\";\n    ProcessDateTimeWhich[\"TIME\"] = \"TIME\";\n})(ProcessDateTimeWhich = exports.ProcessDateTimeWhich || (exports.ProcessDateTimeWhich = {}));\nfunction processDateTime(control, which) {\n    const indexOfT = control.value.indexOf('T');\n    let date = control.value.substring(0, indexOfT);\n    let time = control.value.substring(indexOfT + 1);\n    if ((!date) || (which == ProcessDateTimeWhich.DATE)) {\n        date = control.date || \"\";\n    }\n    if ((!time) || (which == ProcessDateTimeWhich.TIME)) {\n        time = control.time || \"\";\n    }\n    return { value: (date && time) ? date + 'T' + time : '', date, time };\n}\nexports.processDateTime = processDateTime;\nfunction getHightlightPositions(params, bitOfSql) {\n    function findAll(s, substring) {\n        let lastPos = -1;\n        let ret = [];\n        while (!ret.some((r) => r === -1)) {\n            lastPos = s.indexOf(substring, lastPos + 1);\n            ret.push(lastPos);\n        }\n        return ret\n            .filter((r) => r !== -1)\n            .filter((r) => {\n            return (((r == 0) || (!bitOfSql[r - 1].match(/[a-z0-9_]/))) &&\n                ((r + substring.length >= bitOfSql.length) || (!bitOfSql[r + substring.length].match(/[a-z0-9_]/))));\n        })\n            .map((r) => {\n            return { begin: r, end: substring.length + r };\n        });\n    }\n    return (params || []).filter((p) => p !== undefined).reduce((acc, param) => {\n        return acc.concat(findAll(bitOfSql, \"\" + param));\n    }, []);\n}\nexports.getHightlightPositions = getHightlightPositions;\nvar LineType;\n(function (LineType) {\n    LineType[\"Field\"] = \"Field\";\n    LineType[\"String\"] = \"String\";\n})(LineType = exports.LineType || (exports.LineType = {}));\nfunction getHightlightString(highlightPositions, bitOfSql) {\n    const sorted = highlightPositions.concat([]).sort((hpa, hpb) => hpa.begin - hpb.begin);\n    let begin = 0;\n    const r = [];\n    sorted.forEach((hp) => {\n        if (begin > hp.begin) {\n            return;\n        }\n        r.push({ type: LineType.String, value: bitOfSql.substring(begin, hp.begin) });\n        r.push({ type: LineType.Field, value: bitOfSql.substring(hp.begin, hp.end) });\n        begin = hp.end;\n    });\n    r.push({ type: LineType.String, value: bitOfSql.substring(begin) });\n    return r;\n}\nexports.getHightlightString = getHightlightString;\n","<script>\n  export let link;\n</script>\n<a href={link.href} class={link.class ? link.class : \"\"}>{link.text}</a>\n","/*\n * Generated by PEG.js 0.10.0.\n *\n * http://pegjs.org/\n */\n\n\"use strict\";\n\nfunction peg$subclass(child, parent) {\n  function ctor() { this.constructor = child; }\n  ctor.prototype = parent.prototype;\n  child.prototype = new ctor();\n}\n\nfunction peg$SyntaxError(message, expected, found, location) {\n  this.message  = message;\n  this.expected = expected;\n  this.found    = found;\n  this.location = location;\n  this.name     = \"SyntaxError\";\n\n  if (typeof Error.captureStackTrace === \"function\") {\n    Error.captureStackTrace(this, peg$SyntaxError);\n  }\n}\n\npeg$subclass(peg$SyntaxError, Error);\n\npeg$SyntaxError.buildMessage = function(expected, found) {\n  var DESCRIBE_EXPECTATION_FNS = {\n        literal: function(expectation) {\n          return \"\\\"\" + literalEscape(expectation.text) + \"\\\"\";\n        },\n\n        \"class\": function(expectation) {\n          var escapedParts = \"\",\n              i;\n\n          for (i = 0; i < expectation.parts.length; i++) {\n            escapedParts += expectation.parts[i] instanceof Array\n              ? classEscape(expectation.parts[i][0]) + \"-\" + classEscape(expectation.parts[i][1])\n              : classEscape(expectation.parts[i]);\n          }\n\n          return \"[\" + (expectation.inverted ? \"^\" : \"\") + escapedParts + \"]\";\n        },\n\n        any: function(expectation) {\n          return \"any character\";\n        },\n\n        end: function(expectation) {\n          return \"end of input\";\n        },\n\n        other: function(expectation) {\n          return expectation.description;\n        }\n      };\n\n  function hex(ch) {\n    return ch.charCodeAt(0).toString(16).toUpperCase();\n  }\n\n  function literalEscape(s) {\n    return s\n      .replace(/\\\\/g, '\\\\\\\\')\n      .replace(/\"/g,  '\\\\\"')\n      .replace(/\\0/g, '\\\\0')\n      .replace(/\\t/g, '\\\\t')\n      .replace(/\\n/g, '\\\\n')\n      .replace(/\\r/g, '\\\\r')\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });\n  }\n\n  function classEscape(s) {\n    return s\n      .replace(/\\\\/g, '\\\\\\\\')\n      .replace(/\\]/g, '\\\\]')\n      .replace(/\\^/g, '\\\\^')\n      .replace(/-/g,  '\\\\-')\n      .replace(/\\0/g, '\\\\0')\n      .replace(/\\t/g, '\\\\t')\n      .replace(/\\n/g, '\\\\n')\n      .replace(/\\r/g, '\\\\r')\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });\n  }\n\n  function describeExpectation(expectation) {\n    return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);\n  }\n\n  function describeExpected(expected) {\n    var descriptions = new Array(expected.length),\n        i, j;\n\n    for (i = 0; i < expected.length; i++) {\n      descriptions[i] = describeExpectation(expected[i]);\n    }\n\n    descriptions.sort();\n\n    if (descriptions.length > 0) {\n      for (i = 1, j = 1; i < descriptions.length; i++) {\n        if (descriptions[i - 1] !== descriptions[i]) {\n          descriptions[j] = descriptions[i];\n          j++;\n        }\n      }\n      descriptions.length = j;\n    }\n\n    switch (descriptions.length) {\n      case 1:\n        return descriptions[0];\n\n      case 2:\n        return descriptions[0] + \" or \" + descriptions[1];\n\n      default:\n        return descriptions.slice(0, -1).join(\", \")\n          + \", or \"\n          + descriptions[descriptions.length - 1];\n    }\n  }\n\n  function describeFound(found) {\n    return found ? \"\\\"\" + literalEscape(found) + \"\\\"\" : \"end of input\";\n  }\n\n  return \"Expected \" + describeExpected(expected) + \" but \" + describeFound(found) + \" found.\";\n};\n\nfunction peg$parse(input, options) {\n  options = options !== void 0 ? options : {};\n\n  var peg$FAILED = {},\n\n      peg$startRuleFunctions = { Statement: peg$parseStatement },\n      peg$startRuleFunction  = peg$parseStatement,\n\n      peg$c0 = \"{\",\n      peg$c1 = peg$literalExpectation(\"{\", false),\n      peg$c2 = \"}\",\n      peg$c3 = peg$literalExpectation(\"}\", false),\n      peg$c4 = function(f, v) {return { function: (f && f.length) ? f : \"noop\", variable: v } },\n      peg$c5 = \" \",\n      peg$c6 = peg$literalExpectation(\" \", false),\n      peg$c7 = function(v, vs) { return [v].concat(vs.map(([a, b]) => b)); },\n      peg$c8 = function(f) { return f.reduce((acc, i) => acc + i, \"\") },\n      peg$c9 = function(v) { return { type: \"VARIABLE\", function: \"noop\", variable: [v] } },\n      peg$c10 = function(t) { return { type: \"TEXT\", text: t.reduce((acc, i) => acc + i, \"\") } },\n      peg$c11 = \"$$\",\n      peg$c12 = peg$literalExpectation(\"$$\", false),\n      peg$c13 = function() { return \"$\" },\n      peg$c14 = \"$\",\n      peg$c15 = peg$literalExpectation(\"$\", false),\n      peg$c16 = /^[^a-z{$]/,\n      peg$c17 = peg$classExpectation([[\"a\", \"z\"], \"{\", \"$\"], true, false),\n      peg$c18 = function(x) { return \"$\" + x },\n      peg$c19 = /^[a-z]/,\n      peg$c20 = peg$classExpectation([[\"a\", \"z\"]], false, false),\n      peg$c21 = /^[a-z_]/,\n      peg$c22 = peg$classExpectation([[\"a\", \"z\"], \"_\"], false, false),\n      peg$c23 = function(v, vs) { return v + vs.reduce((acc, i) => acc + i, \"\") },\n      peg$c24 = /^[^$]/,\n      peg$c25 = peg$classExpectation([\"$\"], true, false),\n\n      peg$currPos          = 0,\n      peg$savedPos         = 0,\n      peg$posDetailsCache  = [{ line: 1, column: 1 }],\n      peg$maxFailPos       = 0,\n      peg$maxFailExpected  = [],\n      peg$silentFails      = 0,\n\n      peg$result;\n\n  if (\"startRule\" in options) {\n    if (!(options.startRule in peg$startRuleFunctions)) {\n      throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n    }\n\n    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n  }\n\n  function text() {\n    return input.substring(peg$savedPos, peg$currPos);\n  }\n\n  function location() {\n    return peg$computeLocation(peg$savedPos, peg$currPos);\n  }\n\n  function expected(description, location) {\n    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)\n\n    throw peg$buildStructuredError(\n      [peg$otherExpectation(description)],\n      input.substring(peg$savedPos, peg$currPos),\n      location\n    );\n  }\n\n  function error(message, location) {\n    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)\n\n    throw peg$buildSimpleError(message, location);\n  }\n\n  function peg$literalExpectation(text, ignoreCase) {\n    return { type: \"literal\", text: text, ignoreCase: ignoreCase };\n  }\n\n  function peg$classExpectation(parts, inverted, ignoreCase) {\n    return { type: \"class\", parts: parts, inverted: inverted, ignoreCase: ignoreCase };\n  }\n\n  function peg$anyExpectation() {\n    return { type: \"any\" };\n  }\n\n  function peg$endExpectation() {\n    return { type: \"end\" };\n  }\n\n  function peg$otherExpectation(description) {\n    return { type: \"other\", description: description };\n  }\n\n  function peg$computePosDetails(pos) {\n    var details = peg$posDetailsCache[pos], p;\n\n    if (details) {\n      return details;\n    } else {\n      p = pos - 1;\n      while (!peg$posDetailsCache[p]) {\n        p--;\n      }\n\n      details = peg$posDetailsCache[p];\n      details = {\n        line:   details.line,\n        column: details.column\n      };\n\n      while (p < pos) {\n        if (input.charCodeAt(p) === 10) {\n          details.line++;\n          details.column = 1;\n        } else {\n          details.column++;\n        }\n\n        p++;\n      }\n\n      peg$posDetailsCache[pos] = details;\n      return details;\n    }\n  }\n\n  function peg$computeLocation(startPos, endPos) {\n    var startPosDetails = peg$computePosDetails(startPos),\n        endPosDetails   = peg$computePosDetails(endPos);\n\n    return {\n      start: {\n        offset: startPos,\n        line:   startPosDetails.line,\n        column: startPosDetails.column\n      },\n      end: {\n        offset: endPos,\n        line:   endPosDetails.line,\n        column: endPosDetails.column\n      }\n    };\n  }\n\n  function peg$fail(expected) {\n    if (peg$currPos < peg$maxFailPos) { return; }\n\n    if (peg$currPos > peg$maxFailPos) {\n      peg$maxFailPos = peg$currPos;\n      peg$maxFailExpected = [];\n    }\n\n    peg$maxFailExpected.push(expected);\n  }\n\n  function peg$buildSimpleError(message, location) {\n    return new peg$SyntaxError(message, null, null, location);\n  }\n\n  function peg$buildStructuredError(expected, found, location) {\n    return new peg$SyntaxError(\n      peg$SyntaxError.buildMessage(expected, found),\n      expected,\n      found,\n      location\n    );\n  }\n\n  function peg$parseStatement() {\n    var s0, s1;\n\n    s0 = [];\n    s1 = peg$parseComplexFunction();\n    if (s1 === peg$FAILED) {\n      s1 = peg$parseSimpleVariable();\n      if (s1 === peg$FAILED) {\n        s1 = peg$parseText();\n      }\n    }\n    if (s1 !== peg$FAILED) {\n      while (s1 !== peg$FAILED) {\n        s0.push(s1);\n        s1 = peg$parseComplexFunction();\n        if (s1 === peg$FAILED) {\n          s1 = peg$parseSimpleVariable();\n          if (s1 === peg$FAILED) {\n            s1 = peg$parseText();\n          }\n        }\n      }\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseComplexFunction() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parseDollar();\n    if (s1 !== peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 123) {\n        s2 = peg$c0;\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c1); }\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseFunctionCall();\n        if (s3 === peg$FAILED) {\n          s3 = null;\n        }\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parseComplexVariable();\n          if (s4 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 125) {\n              s5 = peg$c2;\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c3); }\n            }\n            if (s5 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c4(s3, s4);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseComplexVariable() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parseValidVariableName();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$currPos;\n      if (input.charCodeAt(peg$currPos) === 32) {\n        s4 = peg$c5;\n        peg$currPos++;\n      } else {\n        s4 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c6); }\n      }\n      if (s4 !== peg$FAILED) {\n        s5 = peg$parseValidVariableName();\n        if (s5 !== peg$FAILED) {\n          s4 = [s4, s5];\n          s3 = s4;\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s3;\n        s3 = peg$FAILED;\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$currPos;\n        if (input.charCodeAt(peg$currPos) === 32) {\n          s4 = peg$c5;\n          peg$currPos++;\n        } else {\n          s4 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c6); }\n        }\n        if (s4 !== peg$FAILED) {\n          s5 = peg$parseValidVariableName();\n          if (s5 !== peg$FAILED) {\n            s4 = [s4, s5];\n            s3 = s4;\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c7(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseFunctionCall() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = peg$parseFunction();\n    if (s1 !== peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 32) {\n        s2 = peg$c5;\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c6); }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c8(s1);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseSimpleVariable() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = peg$parseDollar();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseValidVariableName();\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c9(s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseText() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = [];\n    s2 = peg$parseErrorDollar();\n    if (s2 === peg$FAILED) {\n      s2 = peg$parseEscapedDollar();\n      if (s2 === peg$FAILED) {\n        s2 = peg$parseNotDollar();\n      }\n    }\n    if (s2 !== peg$FAILED) {\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        s2 = peg$parseErrorDollar();\n        if (s2 === peg$FAILED) {\n          s2 = peg$parseEscapedDollar();\n          if (s2 === peg$FAILED) {\n            s2 = peg$parseNotDollar();\n          }\n        }\n      }\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c10(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parseEscapedDollar() {\n    var s0, s1;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 2) === peg$c11) {\n      s1 = peg$c11;\n      peg$currPos += 2;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c12); }\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c13();\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parseErrorDollar() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 36) {\n      s1 = peg$c14;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c15); }\n    }\n    if (s1 !== peg$FAILED) {\n      if (peg$c16.test(input.charAt(peg$currPos))) {\n        s2 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c17); }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c18(s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseFunction() {\n    var s0, s1;\n\n    s0 = [];\n    if (peg$c19.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c20); }\n    }\n    if (s1 !== peg$FAILED) {\n      while (s1 !== peg$FAILED) {\n        s0.push(s1);\n        if (peg$c19.test(input.charAt(peg$currPos))) {\n          s1 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c20); }\n        }\n      }\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseValidVariableName() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (peg$c19.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c20); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      if (peg$c21.test(input.charAt(peg$currPos))) {\n        s3 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c22); }\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        if (peg$c21.test(input.charAt(peg$currPos))) {\n          s3 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c22); }\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c23(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseNotDollar() {\n    var s0;\n\n    if (peg$c24.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c25); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseDollar() {\n    var s0;\n\n    if (input.charCodeAt(peg$currPos) === 36) {\n      s0 = peg$c14;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c15); }\n    }\n\n    return s0;\n  }\n\n  peg$result = peg$startRuleFunction();\n\n  if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n    return peg$result;\n  } else {\n    if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n      peg$fail(peg$endExpectation());\n    }\n\n    throw peg$buildStructuredError(\n      peg$maxFailExpected,\n      peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null,\n      peg$maxFailPos < input.length\n        ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)\n        : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)\n    );\n  }\n}\n\nmodule.exports = {\n  SyntaxError: peg$SyntaxError,\n  parse:       peg$parse\n};\n","\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* tslint:disable */\nvar parser = require(\"../pegjs/parser\");\nvar ParsedType;\n(function (ParsedType) {\n    ParsedType[\"TEXT\"] = \"TEXT\";\n    ParsedType[\"VARIABLE\"] = \"VARIABLE\";\n})(ParsedType = exports.ParsedType || (exports.ParsedType = {}));\nfunction rawParse(s) {\n    return parser.parse(s);\n}\nexports.rawParse = rawParse;\nfunction removeLineBeginningWhitespace(s) {\n    var postNewlineRemove = s.replace(/^\\n/, \"\").match(/^([ \\t]*)/);\n    if (!postNewlineRemove) {\n        return s;\n    }\n    return s.split(\"\\n\").map(function (line) {\n        if (line.indexOf(postNewlineRemove[1]) === 0) {\n            return line.replace(postNewlineRemove[1], \"\");\n        }\n        return line;\n    }).join(\"\\n\");\n}\nexports.removeLineBeginningWhitespace = removeLineBeginningWhitespace;\nfunction normalize(parameters, statement) {\n    var ret = typeof statement === \"string\" ?\n        [statement] :\n        statement;\n    function getParameter(findingName) {\n        var r = parameters.find(function (_a) {\n            var name = _a.name;\n            return name === findingName;\n        });\n        if (r === undefined) {\n            throw new Error(\"Statement refers to parameter \" + findingName + \" but it does not exist\");\n        }\n        return r;\n    }\n    function parameterReducer(acc, stat) {\n        if (typeof stat !== \"string\") {\n            return acc.concat(stat);\n        }\n        return rawParse(stat).reduce(function (innerAcc, item) {\n            if (item.type === ParsedType.TEXT) {\n                return innerAcc.concat(item.text);\n            }\n            if (item.function !== \"noop\") {\n                throw new Error(\"The function for a variable must be noop\");\n            }\n            if (item.variable.length !== 1) {\n                throw new Error(\"Only one variable for a ${} is allowed\");\n            }\n            return innerAcc.concat(getParameter(item.variable[0]));\n        }, acc);\n    }\n    return ret.reduce(parameterReducer, []);\n}\nexports.normalize = normalize;\nfunction newlineBreak(statement) {\n    function allButLast(ar) {\n        var ret = [];\n        for (var i = 0; i < ar.length - 1; i++) {\n            ret.push(ar[i]);\n        }\n        return ret;\n    }\n    function last(ar) {\n        if (ar.length === 0) {\n            throw new Error(\"newlineBreak: list: Empty\");\n        }\n        return ar[ar.length - 1];\n    }\n    function reducer(acc, item) {\n        if (typeof item !== \"string\") {\n            return __spread(allButLast(acc), [\n                last(acc).concat([item]),\n            ]);\n        }\n        var _a = __read(item.split(/[\\r\\n]/)), split0 = _a[0], splitRest = _a.slice(1);\n        return __spread(allButLast(acc), [\n            last(acc).concat([split0]),\n        ]).concat(splitRest.map(function (r) { return [r]; }));\n    }\n    return statement.reduce(reducer, [[]]);\n}\nexports.newlineBreak = newlineBreak;\nfunction html_line(statement) {\n    function pre(s) {\n        var r = s.replace(\"\\t\", \"    \");\n        var m = r.match(/^ +/);\n        if (m === null) {\n            return r;\n        }\n        return m[0].replace(/ /g, \" \") + r.substr(m[0].length);\n    }\n    function mapper(ed) {\n        if (typeof ed === \"string\") {\n            return { tagIdClass: \"span\", inner: pre(ed), attrs: {} };\n        }\n        ed = ed;\n        if (ed.type === \"select\") {\n            return {\n                tagIdClass: \"select\",\n                inner: [],\n                attrs: { name: ed.name },\n            };\n        }\n        if (ed.type === \"string\") {\n            return { tagIdClass: \"input\", inner: [], attrs: { name: ed.name } };\n        }\n        if (ed.type === \"integer\") {\n            return { tagIdClass: \"input\", inner: [], attrs: { name: ed.name, type: \"number\" } };\n        }\n        if (ed.type === \"server\") {\n            return { tagIdClass: \"span\", inner: \"$\" + pre(ed.name), attrs: {} };\n        }\n        throw new Error(\"Unknown parameter type \" + ed.type);\n    }\n    return {\n        tagIdClass: \"div.line\",\n        inner: statement.map(mapper),\n        attrs: {},\n    };\n}\nexports.html_line = html_line;\nfunction html(statement) {\n    return {\n        tagIdClass: \"div\",\n        attrs: {},\n        inner: newlineBreak(statement).map(html_line),\n    };\n}\nexports.html = html;\nfunction forHyper(h, hdoc) {\n    return h([\n        hdoc.tagIdClass,\n        hdoc.inner instanceof Array ?\n            hdoc.inner.map(function (hd) {\n                if (hd instanceof String) {\n                    return hd;\n                }\n                return forHyper(h, hd);\n            }) :\n            hdoc.inner,\n        hdoc.attrs,\n    ]);\n}\nexports.forHyper = forHyper;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.queryComponentsToArguments = exports.pushBackToControlStore = exports.popBackFromArguments = exports.addBackValuesToControlStore = exports.getLink = exports.asRow = exports.normalizeLink = exports.serializeValues = exports.getControlStore = exports.addControlStoreToEsqlateQueryComponents = exports.urlSearchParamsToArguments = void 0;\nconst esqlate_lib_1 = require(\"esqlate-lib\");\nfunction urlSearchParamsToArguments(url) {\n    let o = [];\n    for (let [k, v] of url.entries()) {\n        o.push({ name: k, val: v });\n    }\n    return o;\n}\nexports.urlSearchParamsToArguments = urlSearchParamsToArguments;\n/**\n * Merges `esqArg` and `cs` with cs taking precedence.\n */\nfunction addControlStoreToEsqlateQueryComponents(cs, esqArg) {\n    const fromCs = new Set(Object.getOwnPropertyNames(cs));\n    function getValue(o) {\n        if (!o.hasOwnProperty(\"value\")) {\n            return \"\";\n        }\n        return o.value;\n    }\n    return Object.getOwnPropertyNames(cs).reduce((acc, k) => {\n        return acc.concat([{ name: k, val: getValue(cs[k]) }]);\n    }, esqArg.filter(({ name }) => !fromCs.has(name)));\n}\nexports.addControlStoreToEsqlateQueryComponents = addControlStoreToEsqlateQueryComponents;\nfunction getControlStore(query, esqlateDefinitionParameters, optionsForSelect) {\n    const inputValues = query.reduce((acc, { name, val }) => {\n        acc.set(name, val);\n        return acc;\n    }, new Map());\n    function getOptions(parameter) {\n        const ps = optionsForSelect.filter(o => o.parameter.name == parameter.name);\n        if (ps.length === 0) {\n            return [];\n        }\n        const result = ps[0].result;\n        if ((result.status != \"preview\") && (result.status != \"complete\")) {\n            return [];\n        }\n        let valueIndex = -1;\n        let displayIndex = -1;\n        result.fields.forEach((fld, index) => {\n            if (fld.name == parameter.value_field) {\n                valueIndex = index;\n            }\n            if (fld.name == parameter.display_field) {\n                displayIndex = index;\n            }\n        });\n        if ((valueIndex == -1) || (displayIndex == -1)) {\n            return [];\n        }\n        return (result.rows).map((row) => {\n            return {\n                display: \"\" + row[displayIndex],\n                value: \"\" + row[valueIndex]\n            };\n        });\n    }\n    function selectSetValue(value, options) {\n        if (options.some((op) => op.value == value)) {\n            return value;\n        }\n        if (options.length) {\n            return options[0].value;\n        }\n        return \"\";\n    }\n    function reducer(acc, item) {\n        let value = \"\";\n        if (inputValues.has(item.name)) {\n            value = inputValues.get(item.name);\n        }\n        if (item.type == \"select\") {\n            const options = getOptions(item);\n            return Object.assign(Object.assign({}, acc), { [item.name]: {\n                    options,\n                    value: selectSetValue(value, options)\n                } });\n        }\n        return Object.assign(Object.assign({}, acc), { [item.name]: { value } });\n    }\n    return esqlateDefinitionParameters.reduce(reducer, {});\n}\nexports.getControlStore = getControlStore;\nfunction serializeValues(values) {\n    return values.map((ea) => {\n        const v = (ea.val === undefined) ? \"\" : encodeURIComponent(ea.val);\n        return `${encodeURIComponent(ea.name)}=${v}`;\n    }).join('&');\n}\nexports.serializeValues = serializeValues;\nfunction normalizeLink(namesOfFields, e) {\n    const params = new Set(namesOfFields.map((n) => n));\n    const parameterCounts = {\n        \"noop\": 1,\n        \"popup\": 2,\n    };\n    function process(textOrHref) {\n        const parsed = esqlate_lib_1.rawParse(textOrHref);\n        return parsed.map((par) => {\n            if (par.type == esqlate_lib_1.ParsedType.TEXT) {\n                return par.text;\n            }\n            if (parameterCounts[par.function] != par.variable.length) {\n                throw new Error(`Function ${par.function} takes ${parameterCounts[par.function]} parameters`);\n            }\n            par.variable.forEach((v) => {\n                if (!params.has(v)) {\n                    throw new Error(\"Variable ${v} in link template, but not a known variable\");\n                }\n            });\n            return { namesOfFields: par.variable, fun: par.function };\n        });\n    }\n    return {\n        class: e.hasOwnProperty(\"class\") ? e.class : \"\",\n        text: e.text ? process(e[\"text\"]) : process(e[\"href\"]),\n        href: process(e[\"href\"])\n    };\n}\nexports.normalizeLink = normalizeLink;\nfunction asRow(rawRow, fields, args) {\n    const argsAsOb = args.reduce((acc, arg) => {\n        return Object.assign(Object.assign({}, acc), { [arg.name]: arg.val });\n    }, {});\n    return fields.reduce((acc, field, index) => {\n        return Object.assign(Object.assign({}, acc), { [field.name]: rawRow[index] });\n    }, argsAsOb);\n}\nexports.asRow = asRow;\nfunction renderLinkText(s, row, escape) {\n    if (typeof s == \"string\") {\n        throw new Error(\"renderLink: Requires normalizeLink to be called first: \" + s);\n    }\n    function getParameters(nofs) {\n        return nofs.map((nof) => {\n            return \"\" + row[nof] || \"\";\n        });\n    }\n    function callF(ela) {\n        if (ela.fun == \"noop\") {\n            return getParameters(ela.namesOfFields)[0];\n        }\n        if (ela.fun == \"popup\") {\n            const params = getParameters(ela.namesOfFields);\n            if (params.length != 2) {\n                throw new Error(\"generation of a popup link requires 2 params\");\n            }\n            return encodeURIComponent(params[0]) + \" \" +\n                encodeURIComponent(params[1]);\n        }\n        throw new Error(`Unknown function '${ela.fun}'`);\n    }\n    return s.reduce((acc, ei) => {\n        if (typeof ei == \"string\") {\n            return acc = acc + ei;\n        }\n        if (escape) {\n            return acc + encodeURIComponent(callF(ei));\n        }\n        return acc + callF(ei);\n    }, \"\");\n}\nfunction getLink(e, row) {\n    const text = e.hasOwnProperty(\"text\") ? e.text : e.href;\n    return {\n        text: renderLinkText(text, row, false),\n        href: renderLinkText(e.href, row, true),\n        class: e.hasOwnProperty(\"class\") ? e.class : \"\",\n    };\n}\nexports.getLink = getLink;\nfunction addBackValuesToControlStore(qry, csv) {\n    return qry.reduce((acc, esqArg) => {\n        const m = esqArg.name.match(/^_b[a-z]{1,9}([0-9]{1,3})/);\n        if (!m) {\n            return acc;\n        }\n        return Object.assign(Object.assign({}, acc), { [m[0]]: { value: \"\" + esqArg.val } });\n    }, csv);\n}\nexports.addBackValuesToControlStore = addBackValuesToControlStore;\nfunction getBackNumber(qry) {\n    return qry.reduce((acc, esqArg) => {\n        const m = esqArg.name.match(/^_burl([0-9]{1,3})/);\n        if (!m) {\n            return acc;\n        }\n        if (parseInt(m[1]) > acc) {\n            return parseInt(m[1]);\n        }\n        return acc;\n    }, -1);\n}\nfunction popBackFromArguments(qry) {\n    const desiredNumber = getBackNumber(qry);\n    if ((desiredNumber < 0)) {\n        throw new Error(\"popBackFromArguments: No back links found\");\n    }\n    return qry.reduce((acc, esqArg) => {\n        const m = esqArg.name.match(/^_b([a-z]{0,9})([0-9]{1,3})/);\n        if (!m) {\n            return acc;\n        }\n        if (parseInt(m[2]) == desiredNumber) {\n            return Object.assign(Object.assign({}, acc), { [m[1]]: decodeURIComponent(esqArg.val) });\n        }\n        return acc;\n    }, { url: '', fld: '', def: '', dis: '', val: '' });\n}\nexports.popBackFromArguments = popBackFromArguments;\nfunction pushBackToControlStore(qry, url) {\n    const desiredNumber = Object.getOwnPropertyNames(qry).reduce((acc, esqArg) => {\n        const m = esqArg.match(/^_burl([0-9]{1,3})/);\n        if (!m) {\n            return acc;\n        }\n        if (parseInt(m[1]) > acc) {\n            return parseInt(m[1]);\n        }\n        return acc;\n    }, -1);\n    return Object.assign(Object.assign({}, qry), { [\"_burl\" + (desiredNumber + 1)]: { value: url.url }, [\"_bfld\" + (desiredNumber + 1)]: { value: url.fld }, [\"_bdef\" + (desiredNumber + 1)]: { value: url.def }, [\"_bdis\" + (desiredNumber + 1)]: { value: url.dis }, [\"_bval\" + (desiredNumber + 1)]: { value: url.val } });\n}\nexports.pushBackToControlStore = pushBackToControlStore;\nfunction queryComponentsToArguments(params, queryComps) {\n    // Popups are treated specially as thier value is urlencoded in the UI.\n    const popups = new Set(params\n        .filter((p) => p.type == \"popup\")\n        .map((p) => p.name));\n    const mapper = (qc) => {\n        const v = qc.val === undefined ? \"\" : qc.val;\n        if (popups.has(qc.name)) {\n            const value = decodeURIComponent((\"\" + v).replace(/ .*/, \"\"));\n            return { name: qc.name, value };\n        }\n        return { name: qc.name, value: v };\n    };\n    const filterer = (a) => {\n        return a.name.substring(0, 1) !== \"#\";\n    };\n    return queryComps.map(mapper).filter(filterer);\n}\nexports.queryComponentsToArguments = queryComponentsToArguments;\n","/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing. The function also has a property 'clear' \n * that is a function which will clear the timer to prevent previously scheduled executions. \n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\nfunction debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = Date.now() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    }\n  };\n\n  var debounced = function(){\n    context = this;\n    args = arguments;\n    timestamp = Date.now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n\n  debounced.clear = function() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n  \n  debounced.flush = function() {\n    if (timeout) {\n      result = func.apply(context, args);\n      context = args = null;\n      \n      clearTimeout(timeout);\n      timeout = null;\n    }\n  };\n\n  return debounced;\n};\n\n// Adds compatibility for ES modules\ndebounce.debounce = debounce;\n\nmodule.exports = debounce;\n","<script>\n  import Link from \"./Link.svelte\";\n  import { onDestroy, beforeUpdate, afterUpdate } from 'svelte';\n  import { writable, get as getStoreValue } from 'svelte/store';\n  import { asRow, normalizeLink, getLink } from \"./controls\";\n  import debounce from \"debounce\";\n\n  export let definition;\n  export let controls;\n\n  export let result;\n  export let inPopup;\n  export let pick;\n  export let showDownloads;\n\n  const id = inPopup ? \"in-popup-results\" : \"out-popup-results\";\n\n  function syncTable() {\n\n    if (!document.getElementById(id + \"-style\")) { return; }\n\n    function resetStylesheet() {\n      const stylesheet = document.getElementById(id + \"-style\").sheet;\n      for (let i = 0; i < stylesheet.rules.length; i++) {\n        stylesheet.removeRule(0);\n      }\n      return stylesheet;\n    }\n\n    const stylesheet = resetStylesheet();\n\n    const requiredWidth = document.getElementById(\"code-input-area\") ?\n      document.getElementById(\"code-input-area\").getBoundingClientRect().width :\n      640;\n\n    stylesheet.insertRule(`#table-holder { min-width: ${requiredWidth}px }`);\n  }\n\n  function alignment(field) {\n    if (\n      (field.type.indexOf(\"text\") > -1) ||\n      (field.type.indexOf(\"char\") > -1) ||\n      (field.type.indexOf(\"date\") > -1) ||\n      (field.type.indexOf(\"time\") > -1) ||\n      (field.type.indexOf(\"jsonb\") > -1)\n    ) {\n      return \"left\";\n    }\n    return \"right\";\n  }\n\n  const dateFormatter = new Intl.DateTimeFormat(window.navigator.language, { year: 'numeric', month: '2-digit', day: '2-digit' });\n  const timestampFormatter = new Intl.DateTimeFormat(window.navigator.language, { hour: 'numeric', minute: 'numeric', second: 'numeric', year: 'numeric', month: '2-digit', day: '2-digit' });\n  const formatters = {\n    \"date\": (s) => dateFormatter.format(new Date(s)),\n    \"timestamp\": (s) => timestampFormatter.format(new Date(s)),\n    \"jsonb\": (s) => JSON.stringify(s),\n  }\n\n  function getFormatter(sqlType) {\n    if (formatters.hasOwnProperty(sqlType)) {\n      return formatters[sqlType];\n    }\n    return null;\n  }\n\n\n  let args = [];\n\n  function getValuesFromControls(currentControls) {\n    return Object.getOwnPropertyNames(currentControls || {}).map(\n      (name) => {\n        return { name: name, val: currentControls[name].value }\n      }\n    )\n  }\n\n  function getValuesFromResults(currentResults) {\n    if (!currentResults || !currentResults.rows || !currentResults.rows.length) {\n      return [];\n    }\n    return currentResults.fields.map((fld, i) => {\n      return { name: fld.name, val: currentResults.rows[0][i] };\n    });\n  }\n\n  $: args = getValuesFromControls(controls).concat(getValuesFromResults(result));\n\n\n  function getFieldnames(myArgs) {\n    return myArgs.map(({name}) => name).concat(\n      (result && result.fields) ? (result.fields || []).map(({name}) => name) : []\n    );\n  }\n\n  afterUpdate(syncTable);\n  window.onresize = debounce(syncTable, 200);\n</script>\n<style>\n  #table-holder {\n    max-height: 400px;\n    overflow-y: scroll;\n  }\n  #table-holder table th {\n    position: sticky;\n    top: 0;\n    z-index: 2;\n    background-color: #dadee4;\n  }\n</style>\n<div id={id}>\n  <style id={ id + \"-style\" }>\n  </style>\n  {#if result && ((result.status == \"complete\") || (result.status == \"preview\"))}\n  <div class=\"columns\">\n    <div class=\"column col-auto\" style=\"margin: 0 auto\">\n      <div id=\"table-holder\">\n      <table class=\"results-head table table-striped table-hover\" style=\"padding-bottom: 0; margin: 0\">\n        <thead>\n          <tr>\n            {#each result.fields as field}\n            <th style={ \"text-align: \" + alignment(field) }>{field.name}</th>\n            {/each}\n            {#if (definition.row_links && definition.row_links.length) || inPopup}\n            <th></th>\n            {/if}\n          </tr>\n        </thead>\n        <tbody>\n          {#each result.rows || [] as row}\n          <tr>\n            {#each row as cell, i}\n            <td style={ \"text-align: \" + alignment(result.fields[i]) } data-field-name={ result.fields[i].name }>\n              {#if cell === null}\n              NULL\n              {:else if getFormatter(result.fields[i].type)}\n              { getFormatter(result.fields[i].type)(cell) }\n              {:else}\n              {cell}\n              {/if}\n            </td>\n            {/each}\n            {#if (definition.row_links && definition.row_links.length) || inPopup}\n            {#if inPopup}\n            <td style=\"text-align: center\">\n              <button class=\"btn btn-link\" on:click={c => pick(row)}>Pick</button>\n            </td>\n            {:else}\n            <td style=\"text-align: left\">\n              {#each definition.row_links  || [] as link}\n              <Link link={getLink(normalizeLink(getFieldnames(args), link), asRow(row, result.fields, args)) }/>\n              {/each}\n            </td>\n            {/if}\n            {/if}\n          </tr>\n          {/each}\n        </tbody>\n      </table>\n      </div>\n      {#if inPopup}\n        {#if !result.full_data_set }\n        <div class=\"toast toast-warning toast-resultset-warning\">\n          ⚠ The result set is very large and not all results are shown.\n        </div>\n        {/if}\n      {:else if !result.full_data_set }\n        <div class=\"toast toast-warning toast-resultset-warning\" >\n          ⚠ Warning: This result set is very large and not all are shown. If you want to see the full results you will have to <a href=\"#show-downloads\" on:click|preventDefault={showDownloads}>download them</a>.\n        </div>\n      {:else}\n        <div class=\"toast toast-success toast-resultset-warning\">\n          All the results are showing but you can still <a href=\"#show-downloads\" on:click|preventDefault={showDownloads}>download the results</a>.\n        </div>\n      {/if}\n    </div>\n  </div>\n  {/if}\n</div>\n","<script>\nimport { createEventDispatcher } from 'svelte';\nimport { onDestroy } from 'svelte';\nimport { initializeDateTime, processDateTime } from './ui';\nimport { get as getStoreValue, writable } from 'svelte/store';\n\nexport let parameter;\nexport let control;\nexport let onblur;\nexport let onfocus;\nexport let onerror;\nexport let onfix;\n\n\nconst dispatchNewValue = createEventDispatcher();\n\nfunction emptyCheck() {\n  if (!parameter.empty_string_is_null) {\n    control.value != \"\" ?  onfix(parameter.name, parameter.highlight_fields) : onerror(parameter.name, parameter.highlight_fields);\n  }\n}\n\nfunction onchangedate({ target: { value: evtValue} }) {\n    try {\n      control = processDateTime({ ...control, date: evtValue }, \"DATE\");\n      dispatchNewValue(\"newvalue\", { name: parameter.name, control });\n      emptyCheck();\n    } catch (e) {\n      onerror(parameter.name, parameter.highlight_fields);\n    }\n}\n\nfunction onchangetime({ target: { value: evtValue } }) {\n    try {\n      control = {...processDateTime({ ...control, time: evtValue }, \"TIME\")};\n      dispatchNewValue(\"newvalue\", { name: parameter.name, control });\n      emptyCheck();\n    } catch (e) {\n      onerror(parameter.name, parameter.highlight_fields);\n    }\n}\n\nemptyCheck();\n\n</script>\n<input data-highlight-fields={JSON.stringify(parameter.highlight_fields)}\n       on:focus={onfocus}\n       on:blur={onblur}\n       id={ \"input-\" + parameter.name }\n       data-parameter-name={parameter.name}\n       type=\"date\"\n       on:change={onchangedate}\n       value={initializeDateTime(control).date || \"\"}/>\n<input data-highlight-fields={JSON.stringify(parameter.highlight_fields)}\n       on:focus={onfocus}\n       on:blur={onblur}\n       id={ \"input-\" + parameter.name + \"-time\" }\n       data-parameter-name={parameter.name}\n       type=\"time\"\n       on:change={onchangetime}\n       value={initializeDateTime(control).time || \"\"}/>\n","<script>\nexport let parameter;\nexport let control;\nexport let popup\nexport let onerror;\nexport let onfix;\n\nfunction getDisplayValue(controlValue) {\n  return decodeURIComponent(\n    controlValue.substr(controlValue.indexOf(\" \") + 1)\n  );\n}\n\nif (!parameter.empty_string_is_null) {\n  control.value != \"\" ?\n    onfix(parameter.name, parameter.highlight_fields) :\n    onerror(parameter.name, parameter.highlight_fields);\n}\n\n</script>\n<strong>\n  <button id={ \"input-\" + parameter.name } data-parameter-name={parameter.name} class=\"input-popup\" on:click={() => popup(parameter.name)}>\n    <div>{getDisplayValue(control.value)}</div>&nbsp;⯅\n  </button>\n</strong>\n\n","<script>\n\n  import { createEventDispatcher } from 'svelte';\n  const dispatchNewValue = createEventDispatcher();\n\n  import ParameterDateOrDatetime from \"./ParameterDateOrDatetime.svelte\";\n  import ParameterPopup from \"./ParameterPopup.svelte\";\n  import { getStep } from \"./ui\";\n  export let parameter;\n  export let control;\n  export let popup;\n  export let onfocus;\n  export let onblur;\n  export let onerror;\n  export let onfix;\n\n  function validator(validationFunc) {\n    return function() {\n      if (!validationFunc(control.value)) {\n        return onerror(parameter.name, parameter.highlight_fields);\n      }\n      onfix(parameter.name, parameter.highlight_fields);\n      dispatchNewValue(\n        \"newvalue\",\n        { name: parameter.name, control }\n      );\n    }\n  }\n\n  function isDateOk() {\n    if ((parameter.empty_string_is_null) && (control.value == \"\")) {\n      return true;\n    }\n    return (\"\" + control.value).match(/\\d\\d\\d\\d\\-\\d\\d-\\d\\d/);\n  }\n\n  function isIntegerOk() {\n    if ((parameter.empty_string_is_null) && (control.value == \"\")) {\n      return true;\n    }\n    return (\"\" + parseInt(control.value) == control.value)\n  }\n\n  function isDecimalOk() {\n    if ((parameter.empty_string_is_null) && (control.value == \"\")) {\n      return true;\n    }\n    return (\"\" + control.value).match(/^-?(0|[1-9]\\d*)(\\.\\d+)?$/)\n  }\n\n  if (parameter.type == \"integer\") { validator(isIntegerOk)(); }\n  if (parameter.type == \"decimal\") { validator(isDecimalOk)(); }\n  if (parameter.type == \"date\") { validator(isDateOk)(); }\n\n</script>\n\n{#if parameter.type != \"server\"}\n  {#if (!parameter.hasOwnProperty(\"name\"))}\n    <div class=\"deverror\">Parameter should have 'name'</div>\n  {/if}\n  {#if (!control || !control.hasOwnProperty(\"value\"))}\n    <div class=\"deverror\">Control for {parameter.name} should exist and have 'value'</div>\n  {/if}\n{/if}\n\n{#if parameter.type == \"string\"}\n  <input data-highlight-fields={JSON.stringify(parameter.highlight_fields)} id={ \"input-\" + parameter.name } on:focus={onfocus} on:blur={onblur} name={parameter.name} bind:value={control.value} data-parameter-name={parameter.name} >\n{:else if parameter.type == \"date\"}\n  <input data-highlight-fields={JSON.stringify(parameter.highlight_fields)} id={ \"input-\" + parameter.name } on:focus={onfocus} on:blur={onblur} name={parameter.name} type=\"date\" bind:value={control.value} data-parameter-name={parameter.name} on:change={validator(isDateOk)}>\n{:else if parameter.type == \"integer\"}\n  <input data-highlight-fields={JSON.stringify(parameter.highlight_fields)} id={ \"input-\" + parameter.name } on:focus={onfocus} on:blur={onblur} name={parameter.name} type=\"number\" bind:value={control.value} on:change={validator(isIntegerOk)} data-parameter-name={parameter.name}>\n{:else if parameter.type == \"decimal\"}\n  <input data-highlight-fields={JSON.stringify(parameter.highlight_fields)} id={ \"input-\" + parameter.name } on:focus={onfocus} on:blur={onblur} step={getStep(parameter.decimal_places)} name={parameter.name} type=\"number\" bind:value={control.value} on:change={validator(isDecimalOk)} data-parameter-name={parameter.name}>\n{:else if parameter.type == \"server\"}\n  ${parameter.name}\n{:else if parameter.type == \"select\"}\n  {#if control.options }\n    <select data-highlight-fields={JSON.stringify(parameter.highlight_fields)} on:focus={onfocus} on:blur={onblur} id={ \"input-\" + parameter.name } name={parameter.name} bind:value={control.value} data-parameter-name={parameter.name}>\n      {#if parameter.empty_string_is_null}\n        <option value=\"\"></option>\n      {/if}\n      {#each control.options as opt}\n        <option value={opt.value}>{opt.display}</option>\n      {/each}\n    </select>\n  {:else}\n    {#if (\"\" + control.value) != \"\" }\n      <strong>{control.value}</strong>\n    {:else}\n      <strong>${parameter.name}</strong>\n    {/if}\n  {/if}\n{:else if parameter.type == \"popup\"}\n<ParameterPopup popup={popup} onfix={onfix} onerror={onerror} control={control} parameter={parameter} data-parameter-name={parameter.name} />\n{:else if (parameter.type == \"datetime\")}\n<ParameterDateOrDatetime on:newvalue onfix={onfix} onerror={onerror} onfocus={onfocus} onblur={onblur} control={control} parameter={parameter} />\n{:else}\n  {#if (\"\" + control.value) != \"\" }\n    <strong>{control.value}</strong>\n  {:else}\n    <strong>${parameter.name}</strong>\n  {/if}\n{/if}\n","<script>\n  import { getHightlightPositions, getHightlightString } from './ui';\n\n  export let item;\n  export let parameters;\n\n  function getParts(params, theItem) {\n    const parameterNames = Array.from(new Set(params.reduce(\n      (acc, {name, highlight_fields}) => acc.concat(highlight_fields || [name]),\n      []\n    )));\n    return getHightlightString(getHightlightPositions(parameterNames, theItem), theItem);\n  }\n\n</script>\n{#each getParts(parameters, item) as part}\n{#if part.type == \"String\"}\n<span>{part.value}</span>\n{:else}\n<span class=\"field_highlight\" data-field={part.value}>{part.value}</span>\n{/if}\n{/each}\n","<script>\n  import { asRow, normalizeLink, getLink } from \"./controls\";\n  import Link from \"./Link.svelte\";\n\n  export let links;\n  export let controls;\n  export let result;\n\n  function getValuesFromControls(currentControls) {\n    return Object.getOwnPropertyNames(currentControls || {}).map(\n      (name) => {\n        return { name: name, val: currentControls[name].value }\n      }\n    )\n  }\n\n  function getValuesFromResults(currentResults) {\n    if (!currentResults || !currentResults.rows || !currentResults.rows.length) {\n      return [];\n    }\n    return currentResults.fields.map((fld, i) => {\n      return { name: fld.name, val: currentResults.rows[0][i] };\n    });\n  }\n\n  let args = [];\n  let the_links = [];\n\n  $: args = getValuesFromControls(controls || {}).concat(getValuesFromResults(result));\n\n  $: the_links = (links || []).reduce(\n    (acc, link) => {\n      try {\n        return acc.concat([getLink(\n          normalizeLink(args.map(({name}) => name), link),\n          asRow(args.map(({name}) => name), [], args)\n        )]);\n      } catch (e) {\n        return acc;\n      }\n    },\n    []\n  );\n</script>\n\n<div id=\"main_links\">\n  {#each the_links as link}\n  <Link link={link}/>\n  {/each}\n</div>\n","<script>\n\n  import { getHightlightPositions, getHightlightString } from './ui';\n  import { afterUpdate } from 'svelte';\n  import { get as getStoreValue } from 'svelte/store';\n  import ResultTable from \"./ResultTable.svelte\";\n  import Parameter from \"./Parameter.svelte\";\n  import Highlighter from \"./Highlighter.svelte\";\n  import MainLinks from \"./MainLinks.svelte\";\n\n  export let pick;\n  export let run;\n  export let cancelDownload;\n  export let cancel;\n  export let empty;\n  export let popup;\n  export let viewStore;\n  export let download;\n  export let showDownloads;\n  export let toggleShowingSql;\n  export let toggleShowingExtendedDisplay;\n\n\n  let getColorCache = new Map();\n\n  function getColor(s) {\n    if (getColorCache.has(s)) { return getColorCache.get(s); };\n    let r = Array.from(document.querySelectorAll(`#color-finder-${s}`)).reduce((acc, el) => {\n      return window.getComputedStyle(el).color;\n    }, null);\n    if (r != null) { getColorCache.set(s, r); }\n    return r;\n  }\n\n  let md = new window.markdownit();\n\n  let sidebarActive = false;\n  function showSidebar() { sidebarActive = true; }\n  function hideSidebar() { sidebarActive = false; }\n\n  let configActive = false\n  function showConfig() { configActive = true; }\n  function hideConfig() { configActive = false; }\n\n  function resetStylesheet(name) {\n\n    let styleEl = document.getElementById(name);\n    if (!styleEl) {\n      const head = document.head || document.getElementsByTagName('head')[0];\n      styleEl = document.createElement('style');\n      styleEl.id = name;\n      head.appendChild(styleEl);\n    }\n    while (styleEl.sheet.rules.length > 0) {\n      styleEl.sheet.removeRule(0);\n    }\n    return styleEl.sheet;\n  }\n\n  function onfocus({target}) {\n    const stylesheet = resetStylesheet(\"onblur-onfocus-style\");\n    let flds = JSON.parse(target && target.dataset && target.dataset.highlightFields || \"[]\");\n    if (flds.length == 0) { flds = [target.name] }\n    flds.forEach((fld) => {\n      stylesheet.insertRule(`.field_highlight[data-field=\"${fld}\"] { font-weight: bold; color: black; }`);\n    });\n  }\n\n  function onblur({target}) {\n    resetStylesheet(\"onblur-onfocus-style\");\n  }\n\n  let errorFields = new Map();\n\n  function redrawErrorStylesheet() {\n    const stylesheet = resetStylesheet(\"onerror\");\n    const allErrors = new Set();\n    for (const [name, set] of errorFields) {\n      let addedError = false;\n      for (const s of set) {\n        allErrors.add(s);\n        if (!addedError) {\n          stylesheet.insertRule(\n            `.input-popup[data-parameter-name=\"${name}\"], input[data-parameter-name=\"${name}\"], select[data-parameter-name=\"${name}\"] { border-color:${getColor('error')} !important; }`\n          );\n          addedError = true;\n        }\n      }\n    }\n    for (const errorField of allErrors) {\n      stylesheet.insertRule(`.field_highlight[data-field=\"${errorField}\"] { color: ${getColor('error')} !important; }`);\n    }\n  }\n\n  function onerror(name, highlightFields) {\n\n    if (!errorFields.has(name)) { errorFields.set(name, new Set()); }\n    (highlightFields || [name]).forEach((hf) => {\n      errorFields.get(name).add(hf);\n    });\n    redrawErrorStylesheet();\n  }\n\n  function onfix(name, highlightFields) {\n    (highlightFields || [name]).forEach((hf) => {\n      errorFields.get(name) && errorFields.get(name).delete(hf);\n    });\n    redrawErrorStylesheet();\n  }\n\n  function onnewcontrolvalue({detail: { name, control } }) {\n    viewStore.update((vs) => {\n      return {...vs, controls: {...vs.controls, [name]: { ...control } } };\n    });\n  }\n\n  function buttonClass(statementType) {\n    switch (statementType) {\n      case \"INSERT\":\n      case \"DELETE\":\n      case \"UPDATE\":\n        return \"btn-error\";\n      case \"SELECT\":\n        return \"btn-success\";\n    }\n    return \"\";\n  }\n\n  function getDownloads(result) {\n    if (result && result.full_format_urls && result.full_format_urls.length) {\n      return result.full_format_urls\n    }\n    return [];\n  }\n\n  function runDownload(mimeType) {\n    return () => download(mimeType);\n  }\n\n  function parameterIsAvailable(controls) {\n    return (p) => {\n      return controls.hasOwnProperty(p.name);\n    };\n  }\n\n  afterUpdate(() => {\n    if (getStoreValue(viewStore).definition && getStoreValue(viewStore).definition.title) {\n      window.document.title = `eSQLate: ${getStoreValue(viewStore).definition.title}`;\n    }\n    if (getStoreValue(viewStore).loading) {\n      setTimeout(() => {\n        if (getStoreValue(viewStore).loading) {\n          document.getElementById(\"loading-modal\").classList.add(\"loading-notification\");\n        }\n      }, 250);\n    } else {\n      document.getElementById(\"loading-modal\").classList.remove(\"loading-notification\");\n    }\n  })\n\n\n</script>\n\n<div\n  class=\"off-canvas\"\n  class:showing-menu={ $viewStore.showingMenu }\n  class:extended-display={ $viewStore.showingExtendedDisplay }\n>\n  <!-- off-screen toggle button -->\n  <a class=\"off-canvas-toggle btn btn-link\"\n    href=\"#sidebar-id\"\n    on:click|preventDefault={showSidebar}\n    >\n    ☰\n  </a>\n\n  <div id=\"sidebar-id\" class={ (sidebarActive || $viewStore.showingMenu) ? \"off-canvas-sidebar active\" : \"off-canvas-sidebar\" }>\n    <div id=\"logo\">eSQLate</div>\n    <ul id=\"menu\">\n      {#each ($viewStore.menu || []) as item}\n      <li>\n        <a href={\"#/\" + item.name} on:click={hideSidebar}>\n          {item.title}\n        </a>\n      </li>\n      {/each}\n    </ul>\n  </div>\n\n  <a class=\"off-canvas-overlay\"\n    href=\"#close\"\n    on:click|preventDefault={hideSidebar}\n    >&nbsp;</a>\n\n  <div class=\"off-canvas-content\">\n    {#if $viewStore.showingMenu}\n      <div class=\"columns\">\n        <div class=\"column col-auto\" style=\"margin: 3rem auto 0 auto; max-width: 40%\">\n          <div class=\"columns\" id=\"toast-error-wrapper\" style=\"display:none\">\n            <div class=\"column col-auto\" style=\"margin: 3rem auto 3rem auto\">\n              <div class=\"toast toast-error\">\n                <button class=\"btn btn-clear float-right\" onclick=\"esqlateHideToastError()\"></button>\n                <div id=\"toast-error-wrapper-text\" style=\"padding: 1em\">\n                  xx\n                </div>\n              </div>\n            </div>\n          </div>\n          <h2>Welcome to eSQLate.</h2>\n          <p>This tool enables you to create simple administration panels by writing SQL queries within a simple JSON document.</p>\n        </div>\n      </div>\n    {:else}\n    <div class=\"columns\" id=\"toast-error-wrapper\" style=\"display:none\">\n      <div class=\"column col-auto\" style=\"margin: 3rem auto 0 auto\">\n        <div class=\"toast toast-error\">\n          <button class=\"btn btn-clear float-right\" onclick=\"esqlateHideToastError()\"></button>\n          <div id=\"toast-error-wrapper-text\" style=\"padding: 1em\">\n            xx\n          </div>\n        </div>\n      </div>\n    </div>\n\n    {#if !$viewStore.asPopup}\n      <MainLinks\n        links={ $viewStore.definition.top_links }\n        controls={ $viewStore.controls }\n        result={ $viewStore.result }\n        />\n    {/if}\n\n    <div class={ ($viewStore.asPopup) ? \"modal active in-popup\" : \"no-modal\" } style={$viewStore.statement.length ? \"\" : \"display: none\"}>\n      <a href=\"#close\" on:click|preventDefault={cancel} class=\"modal-overlay\" aria-label=\"Close\">&nbsp;</a>\n      <div class=\"columns\" style={ $viewStore.asPopup ? \"\" : \"margin-top: 2rem\"}>\n        <div class=\"column col-auto modal-container code-popup\" style=\"margin: auto\">\n\n          <div class=\"modal-header\">\n            <div class=\"container\"><div class=\"columns\">\n                <div class=\"column col-9\">\n                  <h3>{ $viewStore.definition.title }</h3><div id=\"color-finder\" style=\"display: none\"><span id=\"color-finder-error\" class=\"text-error\"></span>a<span id=\"color-finder-warning\" class=\"text-warning\">b</span><span id=\"color-finder-success\" class=\"text-success\">c</span></div>\n                </div>\n                <div class=\"column col-3\">\n                <a style=\"text-decoration: none; float:right; font-size: 200%\" href=\"#close\" on:click|preventDefault={showConfig}>⚙</a>\n                </div>\n              </div></div>\n          </div>\n\n          <div class=\"modal-body\" style=\"overflow: unset\">\n            {#if $viewStore.showingSql}\n            <div class=\"container\">\n              <div class=\"col-gapless columns\">\n                <div class=\"column-12\" id=\"code-description-area\">\n                  {#if $viewStore.definition.description }\n                  <div>{@html md.render(\"\" + $viewStore.definition.description) }</div>\n                  {/if}\n                </div>\n              </div>\n              <div class=\"col-gapless columns\">\n                <div class=\"code-code column col-12\" id=\"code-input-area\">\n                  {#each $viewStore.statement as line}\n                  <div class=\"line\">\n                    {#each line as item}\n                    {#if typeof item == \"string\"}\n                    <Highlighter parameters={$viewStore.definition.parameters} item={item}/>\n                    {:else}\n                    <Parameter on:newvalue={onnewcontrolvalue} onfix={onfix} onerror={onerror} onfocus={onfocus} onblur={onblur} popup={popup} bind:control={$viewStore.controls[item.name]} parameter={item}/>\n                    {/if}\n                    {/each}\n                  </div>\n                  {/each}\n                </div>\n              </div>\n            </div>\n            {:else}\n            <div class=\"col-gapless columns code-description\">\n              <div class=\"column-12\" id=\"code-input-area\">\n                {#if $viewStore.definition.description }\n                <div>{@html md.render(\"\" + $viewStore.definition.description) }</div>\n                {/if}\n              </div>\n            </div>\n            <div class=\"form-horizontal code-form\">\n              {#each $viewStore.definition.parameters.filter(parameterIsAvailable($viewStore.controls)) as parameter}\n              <div class=\"form-group\">\n                <div class=\"column col-5 col-sm-12\">\n                  <label class=\"form-label\" for={ \"input-\" + parameter.name }>{parameter.name}</label>\n                </div>\n                <div class=\"column col-7 col-sm-12\">\n                  {#if parameter.type == \"static\"}\n                  <label class=\"form-label\" for={ \"input-\" + parameter.name }>\n                  <Parameter on:newvalue={onnewcontrolvalue} onfix={onfix} onerror={onerror} onfocus={onfocus} onblur={onblur} popup={popup} bind:control={$viewStore.controls[parameter.name]} parameter={parameter}/>\n                  </label>\n                  {:else}\n                  <Parameter on:newvalue={onnewcontrolvalue} onfix={onfix} onerror={onerror} onfocus={onfocus} onblur={onblur} popup={popup} bind:control={$viewStore.controls[parameter.name]} parameter={parameter}/>\n                  {/if}\n                </div>\n              </div>\n              {/each}\n            </div>\n            {/if}\n          </div>\n\n          <div class=\"modal-footer\">\n            <div class=\"container\"><div class=\"col-gapless columns\"><div class=\"column col-12\">\n            {#if $viewStore.asPopup}\n            <button class=\"btn btn-link\" on:click={cancel}>Cancel</button>\n            <button class=\"btn\" on:click={empty}>Select Empty Value</button>\n            {/if}\n            <button class={ \"btn btn-primary \" + buttonClass($viewStore.definition.statement_type) } on:click={run}>\n              { $viewStore.definition.statement_type || \"EXECUTE\" }\n            </button>\n            </div></div></div>\n          </div>\n\n          {#if $viewStore.asPopup}\n          <div class=\"modal-body\">\n          <ResultTable controls={$viewStore.controls} pick={pick} inPopup={true} definition={$viewStore.definition} result={$viewStore.result}/>\n          </div>\n          {/if}\n\n        </div>\n      </div>\n    </div>\n\n    {#if $viewStore.showingDownload}\n    <div class=\"modal active\" id=\"modal-id\">\n      <a href=\"#close\" class=\"modal-overlay\" aria-label=\"Close\" on:click|preventDefault={cancelDownload}>&nbsp;</a>\n      <div class=\"modal-container\">\n        <div class=\"modal-header\">\n          <a href=\"#close\" on:click|preventDefault={cancelDownload} class=\"btn btn-clear float-right\" aria-label=\"Close\">&nbsp;</a>\n          <div class=\"modal-title h5\">\n            {#if getDownloads($viewStore.result).length }\n              Please select a download\n            {:else}\n              Preparing downloads\n            {/if}\n          </div>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"content\" style=\"min-height: 2rem\">\n            {#if getDownloads($viewStore.result).length }\n              {#each getDownloads($viewStore.result) as link}\n                <a href=\"#download\" on:click|preventDefault={runDownload(link.type)}>{link.type}</a>\n              {/each}\n            {:else}\n              <div style=\"text-align: center; font-size: 144pt;\">\n                🕓\n              </div>\n            {/if}\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <a href=\"#close\" on:click|preventDefault={cancelDownload} aria-label=\"Close\">Cancel</a>\n        </div>\n      </div>\n    </div>\n    {/if}\n\n    {#if !$viewStore.asPopup}\n    <MainLinks\n      links={ $viewStore.definition.links }\n      controls={ $viewStore.controls }\n      result={ $viewStore.result }\n      />\n    <div style=\"margin-top: 3em\" class={ ($viewStore.asPopup) ? \"in-popup\" : \"\" }>\n      <ResultTable showDownloads={showDownloads} controls={$viewStore.controls} inPopup={false} definition={$viewStore.definition} result={$viewStore.result}/>\n    </div>\n  {/if}\n  {/if}\n  </div>\n</div>\n\n<div class={$viewStore.loading ? \"modal active\" : \"modal\"} id=\"loading-modal\"> \n  <div id=\"loading-modal-content\">\n    🕓\n  </div>\n</div>\n\n\n<div class={ configActive ? \"modal active\" : \"modal\" }>\n  <a href=\"#close\" class=\"modal-overlay\" aria-label=\"Close\" on:click|preventDefault={hideConfig}> </a>\n  <div class=\"modal-container\">\n    <div class=\"modal-header\">\n      <a href=\"#close\" class=\"btn btn-clear float-right\" aria-label=\"Close\" on:click|preventDefault={hideConfig}> </a>\n      <div class=\"modal-title h5\">Display Configuration</div>\n    </div>\n    <div class=\"modal-body\">\n      <div class=\"content\">\n        <div class=\"container\">\n          <div class=\"columns\">\n            <div class=\"column col-12\">\n              <label class=\"form-switch\">\n                <input type=\"checkbox\" checked={$viewStore.showingSql ? \"checked\" : \"\"} on:click={toggleShowingSql}>\n                <i class=\"form-icon\"></i>SQL - Show the detail of the SQL to be executed (instead of just the field names / values).\n              </label>\n            </div>\n            <div class=\"column col-12\">\n              <label class=\"form-switch\">\n                <input type=\"checkbox\" checked={$viewStore.showingExtendedDisplay ? \"checked\" : \"\"} on:click={toggleShowingExtendedDisplay}>\n                <i class=\"form-icon\"></i>Extended Display - Display result set as one row per field, useful for really wide result sets.\n              </label>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction waitForImpl(repeatEvery, finishRepeatUntil, getTime, f, getNewDelay) {\n    var requestStartTime = getTime();\n    var attempts = 0;\n    var inProgress = false;\n    return new Promise(function (resolve, reject) {\n        function caller() {\n            requestStartTime = getTime();\n            inProgress = true;\n            attempts = attempts + 1;\n            try {\n                f().then(function (r) {\n                    inProgress = false;\n                    if (r.complete) {\n                        finishRepeatUntil(interval);\n                        return resolve(r.value);\n                    }\n                }).catch(function (e) {\n                    finishRepeatUntil(interval);\n                    reject(e);\n                });\n            }\n            catch (e) {\n                finishRepeatUntil(interval);\n                reject(e);\n            }\n        }\n        caller();\n        var interval = repeatEvery(function () {\n            if (inProgress) {\n                return;\n            }\n            if (getTime() - requestStartTime > getNewDelay(attempts)) {\n                caller();\n            }\n        }, 10);\n    });\n}\nexports.waitForImpl = waitForImpl;\nfunction waitFor(f, getNewDelay) {\n    return waitForImpl(setInterval, clearTimeout, function () { return new Date().getTime(); }, f, getNewDelay);\n}\nexports.waitFor = waitFor;\nexports.default = waitFor;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getFullUrlFromResponseUrl = void 0;\nfunction getFullUrlFromResponseUrl(apiRoot, responseUrl) {\n    // It may be full...\n    try {\n        return new URL(responseUrl).href;\n    }\n    catch (_e) { }\n    // May not include the protocol\n    const apiRootUrl = new URL(apiRoot);\n    if (responseUrl.substring(0, 2) == \"//\") {\n        return apiRootUrl.protocol + responseUrl;\n    }\n    // May be an absolute path\n    if (responseUrl.substring(0, 1) == \"/\") {\n        return apiRoot.replace(/\\/$/, '') + responseUrl;\n        // return apiRootUrl.protocol + \"//\" + apiRootUrl.hostname +\n        // (apiRootUrl.port ? \":\" + apiRootUrl.port : \"\") +\n        // responseUrl;\n    }\n    // Or something else...\n    throw new Error(\"Cannot handle location for: \" + responseUrl);\n}\nexports.getFullUrlFromResponseUrl = getFullUrlFromResponseUrl;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.externalInvoke = exports.runningInWvLinewise = exports.WvLinewise = exports.RawWvLinewiseMock = exports.RawWvLinewise = exports.RESPONSE_TYPE = exports.OUT_REQUEST_DESCRIPTOR = exports.REQUEST_TYPE = void 0;\n/**\n * Every {@link Request} includes a `msg` which will from this enum.\n */\nvar REQUEST_TYPE;\n(function (REQUEST_TYPE) {\n    REQUEST_TYPE[\"EXIT\"] = \"exit\";\n    REQUEST_TYPE[\"STREAM_LIST\"] = \"streamList\";\n    REQUEST_TYPE[\"STREAM_START\"] = \"streamStart\";\n    REQUEST_TYPE[\"STREAM_CONTINUE\"] = \"streamContinue\";\n    REQUEST_TYPE[\"PARAMS\"] = \"params\";\n    REQUEST_TYPE[\"OUT\"] = \"out\";\n})(REQUEST_TYPE = exports.REQUEST_TYPE || (exports.REQUEST_TYPE = {}));\n/**\n * Used by {@link OutRequest} to control which UNIX stream to write to.\n */\nvar OUT_REQUEST_DESCRIPTOR;\n(function (OUT_REQUEST_DESCRIPTOR) {\n    OUT_REQUEST_DESCRIPTOR[OUT_REQUEST_DESCRIPTOR[\"STDOUT\"] = 1] = \"STDOUT\";\n    OUT_REQUEST_DESCRIPTOR[OUT_REQUEST_DESCRIPTOR[\"STDERR\"] = 2] = \"STDERR\";\n    OUT_REQUEST_DESCRIPTOR[OUT_REQUEST_DESCRIPTOR[\"DESCRIPTOR_3\"] = 3] = \"DESCRIPTOR_3\";\n    OUT_REQUEST_DESCRIPTOR[OUT_REQUEST_DESCRIPTOR[\"DESCRIPTOR_4\"] = 4] = \"DESCRIPTOR_4\";\n    OUT_REQUEST_DESCRIPTOR[OUT_REQUEST_DESCRIPTOR[\"DESCRIPTOR_5\"] = 5] = \"DESCRIPTOR_5\";\n    OUT_REQUEST_DESCRIPTOR[OUT_REQUEST_DESCRIPTOR[\"DESCRIPTOR_6\"] = 6] = \"DESCRIPTOR_6\";\n    OUT_REQUEST_DESCRIPTOR[OUT_REQUEST_DESCRIPTOR[\"DESCRIPTOR_7\"] = 7] = \"DESCRIPTOR_7\";\n    OUT_REQUEST_DESCRIPTOR[OUT_REQUEST_DESCRIPTOR[\"DESCRIPTOR_8\"] = 8] = \"DESCRIPTOR_8\";\n    OUT_REQUEST_DESCRIPTOR[OUT_REQUEST_DESCRIPTOR[\"DESCRIPTOR_9\"] = 9] = \"DESCRIPTOR_9\";\n})(OUT_REQUEST_DESCRIPTOR = exports.OUT_REQUEST_DESCRIPTOR || (exports.OUT_REQUEST_DESCRIPTOR = {}));\n/**\n * Every {@link Response} includes a `type` which will from this enum.\n */\nvar RESPONSE_TYPE;\n(function (RESPONSE_TYPE) {\n    RESPONSE_TYPE[\"PARAMS\"] = \"params\";\n    RESPONSE_TYPE[\"LINE\"] = \"line\";\n    RESPONSE_TYPE[\"STREAM_LIST\"] = \"streamList\";\n    RESPONSE_TYPE[\"DETAILS\"] = \"details\";\n    RESPONSE_TYPE[\"FINISHED\"] = \"finished\";\n    RESPONSE_TYPE[\"PAUSED\"] = \"paused\";\n    RESPONSE_TYPE[\"ERROR\"] = \"error\";\n    RESPONSE_TYPE[\"MESSAGE_ERROR\"] = \"messageError\";\n})(RESPONSE_TYPE = exports.RESPONSE_TYPE || (exports.RESPONSE_TYPE = {}));\nclass RawWvLinewise {\n    constructor(external) {\n        this.external = external;\n        this.respFnsOnce = {\n            error: [],\n            messageError: [],\n            params: [],\n            streamList: [],\n            paused: [],\n            details: [],\n            line: [],\n            finished: [],\n        };\n        this.respFns = {\n            error: [],\n            messageError: [],\n            params: [],\n            streamList: [],\n            paused: [],\n            details: [],\n            line: [],\n            finished: [],\n        };\n        if (typeof window !== \"undefined\") {\n            window._globalWvLinewise = (d) => this.fire(d);\n        }\n    }\n    getResponseDispatcher(e) {\n        let r = this.respFns[e];\n        while (this.respFnsOnce[e].length) {\n            r = r.concat([this.respFnsOnce[e].shift()]);\n        }\n        return r;\n    }\n    fire(d) {\n        let fires = this.getResponseDispatcher(d.type);\n        if (!fires.length) {\n            return;\n        }\n        for (let i = 0; i < fires.length; i++) {\n            fires[i].call(null, d);\n        }\n    }\n    request(j) {\n        this.external.invoke(JSON.stringify(j));\n    }\n    on(type, f) {\n        this.respFns[type].push(f);\n    }\n    once(type, f) {\n        this.respFnsOnce[type].push(f);\n    }\n    clear(type) {\n        this.respFns[type] = [];\n        this.respFnsOnce[type] = [];\n    }\n    off(type, f) {\n        for (let i = this.respFns[type].length - 1; i >= 0; i--) {\n            if (this.respFns[type][i] == f) {\n                this.respFns[type].splice(i, 1);\n            }\n        }\n        for (let i = this.respFnsOnce[type].length - 1; i >= 0; i--) {\n            if (this.respFnsOnce[type][i] == f) {\n                this.respFnsOnce[type].splice(i, 1);\n            }\n        }\n    }\n}\nexports.RawWvLinewise = RawWvLinewise;\nclass RawWvLinewiseMock extends RawWvLinewise {\n    constructor() {\n        super({ invoke: (_s) => { } });\n        this.streamData = new Map();\n        this.params = [];\n        this.running = new Set();\n        this.started = new Set();\n        this.startedCounts = new Map();\n    }\n    addStreamData(streamName, data) {\n        if (!this.streamData.has(streamName)) {\n            this.streamData.set(streamName, []);\n        }\n        this.streamData.set(streamName, (this.streamData.get(streamName) || []).concat(data));\n    }\n    addParam(name, value) {\n        this.params.push({ name, value });\n    }\n    start(name, count) {\n        this.startedCounts.set(name, count);\n        this.running.add(name);\n        if (!this.started.has(name)) {\n            this.fire({ name: name, rewindable: false, type: RESPONSE_TYPE.DETAILS });\n            this.started.add(name);\n        }\n        let stream = this.streamData.get(name) || [];\n        let lineNumber = 0;\n        while ((lineNumber++ < count) && stream.length) {\n            let line = stream.shift();\n            this.fire({ name: name, data: line, type: RESPONSE_TYPE.LINE });\n        }\n        this.running.delete(name);\n        if (stream.length) {\n            this.fire({ name: name, type: RESPONSE_TYPE.PAUSED });\n        }\n        else {\n            this.fire({ name: name, type: RESPONSE_TYPE.FINISHED });\n        }\n    }\n    request(j) {\n        return __awaiter(this, void 0, void 0, function* () {\n            switch (j.msg) {\n                case REQUEST_TYPE.EXIT:\n                    window.document.body.innerText = \"EXIT DONE\";\n                    break;\n                case REQUEST_TYPE.STREAM_LIST:\n                    this.fire({ type: RESPONSE_TYPE.STREAM_LIST, streams: Array.from(this.streamData.keys()) });\n                    break;\n                case REQUEST_TYPE.PARAMS:\n                    this.fire({ type: RESPONSE_TYPE.PARAMS, params: this.params });\n                    break;\n                case REQUEST_TYPE.STREAM_CONTINUE:\n                    this.start(j.name, this.startedCounts.get(j.name) || 0);\n                    break;\n                case REQUEST_TYPE.OUT:\n                    if (j.descriptor == 2) {\n                        console.log(`STDERR: ${j.data}`);\n                    }\n                    if (j.descriptor == 1) {\n                        console.log(`STDOUT: ${j.data}`);\n                    }\n                    if ((j.descriptor > 2) && (j.descriptor < 10)) {\n                        console.log(`STD${j.descriptor}: ${j.data}`);\n                    }\n                    break;\n                case REQUEST_TYPE.STREAM_START:\n                    if (!j.hasOwnProperty(\"name\") || !j.hasOwnProperty(\"count\")) {\n                        return;\n                    }\n                    if (!this.streamData.has(j.name)) {\n                        this.fire({ name: j.name, error: \"No such stream\", type: RESPONSE_TYPE.ERROR });\n                        return;\n                    }\n                    if ((this.running.has(j.name)) || !this.streamData.has(j.name)) {\n                        return;\n                    }\n                    this.start(j.name, j.count);\n                    break;\n            }\n        });\n    }\n}\nexports.RawWvLinewiseMock = RawWvLinewiseMock;\nclass WvLinewise {\n    constructor(raw) {\n        this.raw = raw;\n    }\n    streamStart(streamName, count) {\n        this.raw.request({ msg: REQUEST_TYPE.STREAM_START, name: streamName, count });\n    }\n    streamContinue(streamName) {\n        this.raw.request({ msg: REQUEST_TYPE.STREAM_CONTINUE, name: streamName });\n    }\n    requestParams() {\n        this.raw.request({ msg: REQUEST_TYPE.PARAMS });\n    }\n    exit(status) {\n        this.raw.request({ msg: REQUEST_TYPE.EXIT, status });\n    }\n    requestStreamList() {\n        this.raw.request({ msg: REQUEST_TYPE.STREAM_LIST });\n    }\n    out(text, descriptor = OUT_REQUEST_DESCRIPTOR.STDOUT) {\n        this.raw.request({ msg: REQUEST_TYPE.OUT, descriptor, data: text });\n    }\n    on(type, f) {\n        this.raw.on(type, f);\n    }\n    once(type, f) {\n        this.raw.once(type, f);\n    }\n    clear(type) {\n        this.raw.clear(type);\n    }\n    off(type, f) {\n        this.raw.off(type, f);\n    }\n}\nexports.WvLinewise = WvLinewise;\nfunction runningInWvLinewise() {\n    if (window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.external && window.webkit.messageHandlers.external.postMessage) {\n        window.external = {\n            invoke: (e) => {\n                window.webkit.messageHandlers.external.postMessage(e);\n            }\n        };\n        return true;\n    }\n    return !!(window.external && window.external.invoke);\n}\nexports.runningInWvLinewise = runningInWvLinewise;\nfunction externalInvoke(e) {\n    if (window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.external && window.webkit.messageHandlers.external.postMessage) {\n        return window.webkit.messageHandlers.external.postMessage(e);\n    }\n    if (window.external && window.external.invoke) {\n        return window.external.invoke(e);\n    }\n    throw new Error(\"WV Linewise: Could not post message: \" + JSON.stringify(e));\n}\nexports.externalInvoke = externalInvoke;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WvLinewiseBuffer = void 0;\nconst wv_linewise_1 = require(\"./wv-linewise\");\nfunction onlyOnce(f) {\n    let called = false;\n    return function onlyOnceImp(...args) {\n        if (called) {\n            return;\n        }\n        called = true;\n        return f.apply(null, args);\n    };\n}\nvar WvLinewiseBufferState;\n(function (WvLinewiseBufferState) {\n    WvLinewiseBufferState[WvLinewiseBufferState[\"NotStarted\"] = 0] = \"NotStarted\";\n    WvLinewiseBufferState[WvLinewiseBufferState[\"Running\"] = 1] = \"Running\";\n    WvLinewiseBufferState[WvLinewiseBufferState[\"Requesting\"] = 2] = \"Requesting\";\n    WvLinewiseBufferState[WvLinewiseBufferState[\"End\"] = 3] = \"End\";\n})(WvLinewiseBufferState || (WvLinewiseBufferState = {}));\nfunction sleep() {\n    return new Promise((resolve) => {\n        setTimeout(() => {\n            resolve(null);\n        }, 1);\n    });\n}\nclass WvLinewiseBuffer {\n    constructor(wvl, streamName, lowWaterMark, countToRequest) {\n        this.wvl = wvl;\n        this.streamName = streamName;\n        this.lowWaterMark = lowWaterMark;\n        this.countToRequest = countToRequest;\n        this.buffer = [];\n        this.state = WvLinewiseBufferState.NotStarted;\n        this.noSleep = false;\n        this.state = 0; // 1 = running, 2 = requesting, 3 = end\n        if (countToRequest == 0) {\n            throw new Error(\"WvLinewiseBuffer: countToRequest must be a positive number\");\n        }\n        this.wvl.on(wv_linewise_1.RESPONSE_TYPE.LINE, ({ name, data }) => {\n            if (name == this.streamName) {\n                this.buffer.push(data);\n            }\n        });\n        this.wvl.on(wv_linewise_1.RESPONSE_TYPE.FINISHED, () => {\n            this.state = 3;\n        });\n        this.wvl.on(wv_linewise_1.RESPONSE_TYPE.PAUSED, () => {\n            this.state = 1;\n        });\n    }\n    notify() {\n        return new Promise((resolve) => {\n            let onlyOnceResolve = onlyOnce(resolve);\n            let eventNotification = ({ name, type }) => __awaiter(this, void 0, void 0, function* () {\n                if (name !== this.streamName) {\n                    return;\n                }\n                if (type == wv_linewise_1.RESPONSE_TYPE.FINISHED) {\n                    this.state = 3;\n                }\n                if (type == wv_linewise_1.RESPONSE_TYPE.PAUSED) {\n                    this.state = 1;\n                    if (!this.noSleep) {\n                        yield sleep();\n                    }\n                    return this.request();\n                }\n                this.wvl.off(wv_linewise_1.RESPONSE_TYPE.FINISHED, eventNotification);\n                this.wvl.off(wv_linewise_1.RESPONSE_TYPE.LINE, eventNotification);\n                this.wvl.off(wv_linewise_1.RESPONSE_TYPE.PAUSED, eventNotification);\n                onlyOnceResolve();\n            });\n            this.wvl.on(wv_linewise_1.RESPONSE_TYPE.FINISHED, eventNotification);\n            this.wvl.on(wv_linewise_1.RESPONSE_TYPE.LINE, eventNotification);\n            this.wvl.on(wv_linewise_1.RESPONSE_TYPE.PAUSED, eventNotification);\n        });\n    }\n    request() {\n        if (this.state >= 2) {\n            return;\n        }\n        if (this.state == 0) {\n            this.state = 2;\n            this.wvl.streamStart(this.streamName, this.countToRequest);\n        }\n        else {\n            this.state = 2;\n            this.wvl.streamContinue(this.streamName);\n        }\n    }\n    shift() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let now = () => {\n                let r = this.buffer.length ? this.buffer.shift() : null;\n                if (r === undefined) {\n                    return null;\n                }\n                return r;\n            };\n            if ((this.state < 2) && (this.buffer.length <= this.lowWaterMark)) {\n                this.request();\n            }\n            if (this.buffer.length == 0) {\n                if (this.state == 2) {\n                    yield this.notify();\n                    return now();\n                }\n                return Promise.resolve(null);\n            }\n            return Promise.resolve(now());\n        });\n    }\n}\nexports.WvLinewiseBuffer = WvLinewiseBuffer;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getWvLinewiseManagedFetch = exports.getWvLinewiseFetch = exports.WvLinewiseResponse = void 0;\nconst wv_linewise_buffer_1 = require(\"./wv-linewise-buffer\");\nclass WvHeaders {\n    append(_name, _value) { throw new Error(\"Not Implemented\"); }\n    delete(_name) { throw new Error(\"Not Implemented\"); }\n    get(name) {\n        if (this.hasOwnProperty(name)) {\n            return this[name];\n        }\n        return null;\n    }\n    has(name) { return this.hasOwnProperty(name); }\n    set(_name, _value) { throw new Error(\"Not Implemented\"); }\n    forEach(callbackfn, thisArg) {\n        let x = this;\n        Object.getOwnPropertyNames(this).forEach((k) => {\n            let v = x.get(k);\n            if (typeof v === 'string') {\n                callbackfn.call(thisArg || x, v, k, x);\n            }\n        }, {});\n    }\n    constructor(kv) {\n        Object.getOwnPropertyNames(kv).forEach((k) => {\n            this[k] = kv[k];\n        });\n    }\n}\nclass WvLinewiseResponse {\n    constructor(url, resp_text, status, headers) {\n        this.url = url;\n        this.resp_text = resp_text;\n        this.status = status;\n        this.redirected = false;\n        this.trailer = Promise.resolve(new WvHeaders({}));\n        this.type = \"basic\";\n        this.body = null;\n        this.bodyUsed = true;\n        this.ok = (status >= 200) && (status < 300);\n        this.statusText = this.getStatusText(status);\n        this.headers = new WvHeaders(headers);\n    }\n    arrayBuffer() { throw new Error(\"WvLinewiseResponse: Unimplemented: arrayBuffer()\"); }\n    blob() { throw new Error(\"WvLinewiseResponse: Unimplemented: blob()\"); }\n    formData() { throw new Error(\"WvLinewiseResponse: Unimplemented: formData()\"); }\n    clone() {\n        let headers = {};\n        Object.getOwnPropertyNames(this.headers).forEach((k) => {\n            headers[k + \"\"] = headers[k] + \"\";\n        });\n        return new WvLinewiseResponse(this.url + \"\", this.resp_text + \"\", this.status, headers);\n    }\n    json() { return JSON.parse(this.resp_text); }\n    text() { return Promise.resolve(this.resp_text); }\n    getStatusText(n) {\n        const statuses = {\n            CONTINUE: 100,\n            SWITCHING_PROTOCOLS: 101,\n            OK: 200,\n            CREATED: 201,\n            ACCEPTED: 202,\n            NON_AUTHORITATIVE_INFORMATION: 203,\n            NO_CONTENT: 204,\n            RESET_CONTENT: 205,\n            PARTIAL_CONTENT: 206,\n            MULTIPLE_CHOICES: 300,\n            MOVED_PERMANENTLY: 301,\n            FOUND: 302,\n            SEE_OTHER: 303,\n            NOT_MODIFIED: 304,\n            USE_PROXY: 305,\n            TEMPORARY_REDIRECT: 307,\n            BAD_REQUEST: 400,\n            UNAUTHORIZED: 401,\n            PAYMENT_REQUIRED: 402,\n            FORBIDDEN: 403,\n            NOT_FOUND: 404,\n            METHOD_NOT_ALLOWED: 405,\n            NOT_ACCEPTABLE: 406,\n            PROXY_AUTHENTICATION_REQUIRED: 407,\n            REQUEST_TIMEOUT: 408,\n            CONFLICT: 409,\n            GONE: 410,\n            LENGTH_REQUIRED: 411,\n            PRECONDITION_FAILED: 412,\n            REQUEST_ENTITY_TOO_LARGE: 413,\n            REQUEST_URI_TOO_LONG: 414,\n            UNSUPPORTED_MEDIA_TYPE: 415,\n            REQUESTED_RANGE_NOT_SATISFIABLE: 416,\n            EXPECTATION_FAILED: 417,\n            UNPROCESSABLE_ENTITY: 422,\n            TOO_MANY_REQUESTS: 429,\n            INTERNAL_SERVER_ERROR: 500,\n            NOT_IMPLEMENTED: 501,\n            BAD_GATEWAY: 502,\n            SERVICE_UNAVAILABLE: 503,\n            GATEWAY_TIMEOUT: 504,\n            HTTP_VERSION_NOT_SUPPORTED: 505,\n        };\n        for (let [k, v] of Object.entries(statuses)) {\n            if (v == n) {\n                return k;\n            }\n        }\n        throw new Error(\"Status code \" + n + \" not expected\");\n    }\n}\nexports.WvLinewiseResponse = WvLinewiseResponse;\nfunction getWvLinewiseFetch(wvl, responseStream) {\n    ;\n    let id = 1;\n    let wvlBuffer = new wv_linewise_buffer_1.WvLinewiseBuffer(wvl, responseStream, 16, 32);\n    let requestOffset = 1;\n    let promises = [];\n    let currents = new Map();\n    const mainRegex = /^RESPONSE\\: *([0-9]+)\\: *([A-Z]{2,12})\\:?/;\n    function wvLinewiseFetch(url, opts) {\n        wvl.out(wvLinewiseFetchSerialize(wvLinewiseFetchRequest(url, opts)));\n        let r = new Promise((resolve, reject) => {\n            promises.push({ resolve, reject, url });\n        });\n        return r;\n    }\n    function stripCommand(m, line) {\n        line = line.substr(m[0].length);\n        return line;\n    }\n    function stripPreWhitespace(line) {\n        while ((line.length) && ((line[0] == ' ') || (line[0] == \"\\t\"))) {\n            line = line.substr(1);\n        }\n        return line;\n    }\n    function wvLinewiseFetchParseLine(current, command, lineStripped) {\n        if (command == 'END') {\n            return Object.assign(Object.assign({}, current), { end: true, body: current.body || [], headers: current.headers || {} });\n        }\n        if (command == 'STATUS') {\n            if (!current.hasOwnProperty('body')) {\n                current.body = [];\n            }\n            lineStripped = stripPreWhitespace(lineStripped);\n            let n = parseInt(lineStripped, 10);\n            if (isNaN(n)) {\n                throw new Error(`wvLinewiseFetchParseLine: Id ${lineStripped} is not an integer`);\n            }\n            return Object.assign(Object.assign({}, current), { status: n });\n        }\n        if (command == 'BODY') {\n            if (!current.hasOwnProperty('body')) {\n                current.body = [];\n            }\n            return Object.assign(Object.assign({}, current), { body: [...current.body || []].concat([lineStripped]) });\n        }\n        if (command == 'HEADERS') {\n            let c = Object.assign({}, current);\n            c.headers = c.headers || {};\n            let parsed = {};\n            try {\n                parsed = JSON.parse(stripPreWhitespace(lineStripped));\n            }\n            catch (e) {\n                throw new Error(`wvLinewiseFetchParseLine: HEADERS supplied must be in JSON: '${lineStripped}'`);\n            }\n            for (let [k, v] of Object.entries(parsed)) {\n                c.headers[\"\" + k] = \"\" + v;\n            }\n            return c;\n        }\n        throw new Error(`wvLinewiseFetchParseLine: Line not recognized: '${lineStripped}' '${command}'`);\n    }\n    function extractFromLine(line) {\n        const m = line.match(mainRegex);\n        if (!m) {\n            throw new Error(\"wvLinewiseFetchParseLine: Invalid line: \" + line);\n        }\n        const n = parseInt(m[1], 10);\n        if (isNaN(n)) {\n            throw new Error(`wvLinewiseFetchParseLine: Id ${line} is not an integer`);\n        }\n        if ((n < requestOffset) || (n > requestOffset + promises.length)) {\n            throw new Error(`wvLinewiseFetchParseLine: Id ${line} was not expected`);\n        }\n        return { n, command: stripPreWhitespace(m[2]), lineStripped: line.substr(m[0].length) };\n    }\n    function initializeAndReturn(n) {\n        const r = currents.get(n);\n        if (r) {\n            return r;\n        }\n        const current = { id: n };\n        currents.set(n, current);\n        return current;\n    }\n    function wvLinewiseFetchProcess() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let line = yield wvlBuffer.shift();\n            if (line === null) {\n                return false;\n            }\n            const { n, command, lineStripped } = extractFromLine(line);\n            let current = initializeAndReturn(n);\n            current = wvLinewiseFetchParseLine(current, command, lineStripped);\n            if (current.end) {\n                let index = (current.id || 0) - requestOffset;\n                let ps = promises[index];\n                if (ps === null) {\n                    throw new Error(`wvLinewiseFetchProcess: The promise at index ${index} seems to have been already used!`);\n                }\n                let resolve = ps.resolve;\n                let url = ps.url;\n                promises[index] = null;\n                while (promises.length && (promises[0] === null)) {\n                    promises.shift();\n                    requestOffset = requestOffset + 1;\n                }\n                let { body, status, headers } = current;\n                resolve(new WvLinewiseResponse(url, (body || []).join(\"\\n\"), status || 200, headers || {}));\n                currents.delete(current.id);\n            }\n            currents.set(current.id, current);\n            return true;\n        });\n    }\n    function wvLinewiseFetchRequest(url, opts) {\n        return { id: id++, url, opts };\n    }\n    function wvLinewiseFetchSerialize(request) {\n        let m = (request.opts.method || 'GET').toUpperCase();\n        return `REQUEST: ${request.id}: ${m}: ${request.url} ${request.opts.body || '{}'}`;\n    }\n    wvLinewiseFetch.request = wvLinewiseFetchRequest;\n    wvLinewiseFetch.serialize = wvLinewiseFetchSerialize;\n    wvLinewiseFetch.process = wvLinewiseFetchProcess;\n    wvLinewiseFetch.parse = wvLinewiseFetchParseLine;\n    wvLinewiseFetch.pendingCount = function wvLinewiseFetchPendingCount() {\n        return promises.length;\n    };\n    return wvLinewiseFetch;\n}\nexports.getWvLinewiseFetch = getWvLinewiseFetch;\nfunction getWvLinewiseManagedFetch(wvl, responseStream, getTimeout) {\n    let wvLinewiseFetch = getWvLinewiseFetch(wvl, responseStream);\n    let processing = false;\n    let running = null;\n    let backoffNumber = 0;\n    function delay(n) {\n        return new Promise((resolve) => {\n            setTimeout(() => resolve(true), n);\n        });\n    }\n    function looper() {\n        return __awaiter(this, void 0, void 0, function* () {\n            backoffNumber = 0;\n            if (processing) {\n                return;\n            }\n            processing = true;\n            if ((yield wvLinewiseFetch.process()) == true) {\n                backoffNumber = 0;\n            }\n            yield delay(getTimeout(backoffNumber));\n            backoffNumber = backoffNumber + 1;\n            processing = false;\n        });\n    }\n    function end() {\n        if (wvLinewiseFetch.pendingCount() == 0) {\n            running && clearInterval(running);\n            running = null;\n        }\n    }\n    function wvLinewiseManagedFetch(url, opts) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!running) {\n                let rp = wvLinewiseFetch(url, opts);\n                running = setInterval(looper, 10);\n                let r = yield rp;\n                end();\n                return r;\n            }\n            backoffNumber = 0;\n            let r = yield wvLinewiseFetch(url, opts);\n            end();\n            return r;\n        });\n    }\n    wvLinewiseManagedFetch.running = function () {\n        return running !== null;\n    };\n    return wvLinewiseManagedFetch;\n}\nexports.getWvLinewiseManagedFetch = getWvLinewiseManagedFetch;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./wv-linewise\"), exports);\n__exportStar(require(\"./wv-linewise-buffer\"), exports);\n__exportStar(require(\"./wv-linewise-fetch\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.consoleLog = exports.errorHandler = exports.postRequest = exports.getRequest = exports.getApiRoot = exports.getURLSearchParams = void 0;\nconst getFullUrlFromResponseUrl_1 = require(\"./getFullUrlFromResponseUrl\");\nconst wv_linewise_js_lib_1 = require(\"wv-linewise-js-lib\");\nfunction getURLSearchParams() {\n    return new URLSearchParams(window.location.hash.replace(/.*\\?/, ''));\n}\nexports.getURLSearchParams = getURLSearchParams;\nfunction getApiRoot() {\n    const bodyElement = document.querySelector(\"body\");\n    const url = bodyElement.dataset.apiServer.replace(/\\/$/, '');\n    if (!url.match(/https?:/)) {\n        return getFullUrlFromResponseUrl_1.getFullUrlFromResponseUrl(window.location.origin, url);\n    }\n    return url;\n}\nexports.getApiRoot = getApiRoot;\nfunction throwOnInvalidStatusCodes(apiUrl, resp) {\n    if ((resp.status < 200) || (resp.status >= 300)) {\n        throw new Error(`HTTP Request to ${apiUrl} returned status code ` +\n            `${resp.status} but I was expecting something in the ` +\n            `200 range`);\n    }\n    return resp;\n}\nfunction handleResponse(url, p) {\n    return p.then(throwOnInvalidStatusCodes.bind(null, url))\n        .then((r) => { return r.json(); })\n        .then((body) => {\n        consoleLog({ \"method\": \"POST\", url, body });\n        return body;\n    });\n}\nlet wvl = new wv_linewise_js_lib_1.WvLinewise(new wv_linewise_js_lib_1.RawWvLinewise({ invoke: wv_linewise_js_lib_1.externalInvoke }));\nlet wvFetch = wv_linewise_js_lib_1.getWvLinewiseManagedFetch(wvl, \"IN\", () => 10);\nfunction getRequest(apiUrl) {\n    let fetchFunc = fetch;\n    if (wv_linewise_js_lib_1.runningInWvLinewise()) {\n        return handleResponse(apiUrl, wvFetch(apiUrl, {}));\n    }\n    const url = getFullUrlFromResponseUrl_1.getFullUrlFromResponseUrl(getApiRoot(), apiUrl);\n    const opts = {\n        mode: \"cors\",\n        cache: \"no-cache\",\n        headers: { \"x-no-redirect\": \"1\", \"Content-Type\": \"application/json\" },\n    };\n    return fetchFunc(url, opts)\n        .then(throwOnInvalidStatusCodes.bind(null, apiUrl))\n        .then((r) => { return r.json(); });\n}\nexports.getRequest = getRequest;\nfunction postRequest(apiUrl, data) {\n    if (wv_linewise_js_lib_1.runningInWvLinewise()) {\n        return handleResponse(apiUrl, wvFetch(apiUrl, { method: 'POST', body: JSON.stringify(data) }));\n    }\n    // if (runningInWvLinewise() && (apiUrl == '/request/customer_country_count')) {\n    //     return Promise.resolve(({\"location\":\"/request/customer_country_count/NLgbT0h3\"} as unknown) as X);\n    // }\n    const url = getFullUrlFromResponseUrl_1.getFullUrlFromResponseUrl(getApiRoot(), apiUrl);\n    const opts = {\n        method: \"POST\",\n        mode: \"cors\",\n        cache: \"no-cache\",\n        headers: { \"x-no-redirect\": \"1\", \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(data)\n    };\n    return fetch(url, opts)\n        .then(throwOnInvalidStatusCodes.bind(null, apiUrl))\n        .then((r) => { return r.json(); });\n}\nexports.postRequest = postRequest;\nfunction errorHandler(error) {\n    consoleLog(error);\n    let message = error;\n    if (error.reason) {\n        error = error.reason;\n    }\n    if (error.message) {\n        message = error.message;\n    }\n    let el = document.getElementById(\"loading-modal\");\n    el && el.classList.remove(\"active\");\n    window.esqlateShowToastError && window.esqlateShowToastError(message) || alert(message);\n}\nexports.errorHandler = errorHandler;\nfunction fakeConsoleLog(x) {\n    let fcDiv = document.querySelector('#fake-console');\n    if (fcDiv === null) {\n        fcDiv = document.createElement(\"div\");\n        let fcDivId = document.createAttribute(\"id\");\n        fcDivId.value = 'fake-console';\n        fcDiv.setAttributeNode(fcDivId);\n        document.body.appendChild(fcDiv);\n    }\n    let div = document.createElement(\"div\");\n    let txt = document.createTextNode(JSON.stringify(x));\n    div.appendChild(txt);\n    fcDiv.appendChild(div);\n    if (fcDiv.childNodes.length > 16) {\n        // fcDiv.childNodes[0].remove();\n    }\n}\nfunction consoleLog(x) {\n    if (wv_linewise_js_lib_1.runningInWvLinewise()) {\n        return fakeConsoleLog(x);\n    }\n    console.log(x);\n}\nexports.consoleLog = consoleLog;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.loadResults = exports.getLoadDefinition = exports.getInitilizeControls = exports.resultDemandHTTP = exports.loadDefinitionHTTP = exports.getInitialViewStore = void 0;\nconst io_1 = require(\"./io\");\nconst esqlate_waitfor_1 = require(\"esqlate-waitfor\");\nconst controls_1 = require(\"./controls\");\nconst esqlate_lib_1 = require(\"esqlate-lib\");\nfunction getInitialViewStore() {\n    return {\n        showingSql: true,\n        showingMenu: false,\n        loading: false,\n        showingDownload: false,\n        definition: {\n            description: \"\",\n            name: \"\",\n            parameters: [],\n            links: [],\n            row_links: [],\n            statement: \"\",\n            title: \"\",\n        },\n        statement: [],\n        result: false,\n        controls: {},\n        asPopup: false,\n        menu: [],\n    };\n}\nexports.getInitialViewStore = getInitialViewStore;\nfunction loadDefinitionHTTP(definitionName) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return yield io_1.getRequest(`/definition/${definitionName}`);\n    });\n}\nexports.loadDefinitionHTTP = loadDefinitionHTTP;\nfunction resultDemandHTTP(definitionName) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const data = { \"arguments\": [] };\n        return io_1.postRequest(`/demand/${definitionName}`, data);\n    });\n}\nexports.resultDemandHTTP = resultDemandHTTP;\nfunction getInitilizeControls(viewStore, getURLSearchParams, cacheSuccessResultForSelect) {\n    return function loadDefinition(ctx) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const definition = ctx.definition;\n            const selects = definition.parameters.filter((p) => {\n                return p.type == \"select\";\n            });\n            const options = yield Promise.all(selects.map((parameter) => {\n                return cacheSuccessResultForSelect(parameter.definition)\n                    .then((result) => {\n                    return { parameter, result };\n                });\n            }));\n            const controls = controls_1.getControlStore(controls_1.urlSearchParamsToArguments(getURLSearchParams()), definition.parameters, options);\n            const statement = esqlate_lib_1.newlineBreak(esqlate_lib_1.normalize(definition.parameters, (typeof definition.statement == \"string\") ?\n                esqlate_lib_1.removeLineBeginningWhitespace(definition.statement) :\n                definition.statement));\n            viewStore.update((vs) => (Object.assign(Object.assign({}, vs), { statement, controls })));\n            return ctx;\n        });\n    };\n}\nexports.getInitilizeControls = getInitilizeControls;\nfunction getLoadDefinition(cacheDefinition, viewStore) {\n    return function loadDefinition(ctx) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const definition = yield cacheDefinition(ctx.params.definitionName);\n            viewStore.update((vs) => (Object.assign(Object.assign({}, vs), { showingMenu: false, definition })));\n            return Object.assign(Object.assign({}, ctx), { definition });\n        });\n    };\n}\nexports.getLoadDefinition = getLoadDefinition;\nfunction loadResults(fetcher, viewStore, desiredState) {\n    return __awaiter(this, void 0, void 0, function* () {\n        function inDesiredState(statusStr) {\n            return desiredState.indexOf(statusStr) > -1;\n        }\n        function calculateNewDelay(attemptsSoFar) {\n            return attemptsSoFar * 300;\n        }\n        function perform() {\n            return __awaiter(this, void 0, void 0, function* () {\n                const j = yield fetcher();\n                if (inDesiredState(j.status)) {\n                    return { complete: true, value: j };\n                }\n                return { complete: false };\n            });\n        }\n        if (viewStore.result && inDesiredState(viewStore.result.status)) {\n            return Promise.resolve(Object.assign({}, viewStore));\n        }\n        return esqlate_waitfor_1.waitFor(perform, calculateNewDelay)\n            .then((json) => {\n            return Object.assign(Object.assign({}, viewStore), { result: Object.assign(Object.assign({}, viewStore.result), json) });\n        });\n    });\n}\nexports.loadResults = loadResults;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.externalInvoke = exports.runningInWvLinewise = void 0;\nconst wv_linewise_js_lib_1 = require(\"wv-linewise-js-lib\");\nfunction runningInWvLinewise() {\n    return wv_linewise_js_lib_1.runningInWvLinewise();\n}\nexports.runningInWvLinewise = runningInWvLinewise;\nfunction externalInvoke(e) {\n    return wv_linewise_js_lib_1.externalInvoke(e);\n}\nexports.externalInvoke = externalInvoke;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar esqlate_waitfor_1 = __importDefault(require(\"esqlate-waitfor\"));\nfunction getCache(f) {\n    var retreiving = new Set();\n    var values = new Map();\n    var errors = new Map();\n    function getWaitForF(k) {\n        return function () {\n            if (retreiving.has(k)) {\n                return Promise.resolve({ complete: false });\n            }\n            return Promise.resolve({ complete: true, value: true });\n        };\n    }\n    return function getCacheImpl() {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var cacheKey = JSON.stringify(args);\n        if (values.has(cacheKey)) {\n            return Promise.resolve(values.get(cacheKey));\n        }\n        if (retreiving.has(cacheKey)) {\n            return esqlate_waitfor_1.default(getWaitForF(cacheKey), function (_n) { return 50; }).then(function () {\n                if (values.has(cacheKey)) {\n                    return Promise.resolve(values.get(cacheKey));\n                }\n                if (errors.has(cacheKey)) {\n                    return Promise.reject(errors.get(cacheKey));\n                }\n                throw new Error(\"Esqlate Cache: WaitFor: Ended without success or error?\");\n            });\n        }\n        retreiving.add(cacheKey);\n        return f.apply(null, args)\n            .then(function (value) {\n            values.set(cacheKey, value);\n            retreiving.delete(cacheKey);\n            return value;\n        })\n            .catch(function (e) {\n            errors.set(cacheKey, e);\n            throw e;\n        });\n    };\n}\nexports.default = getCache;\n","export default function promiseChain(errorHandler, funcs) {\n    let myFuncs = [...funcs];\n    return function promiseChainImpl(...args) {\n        return new Promise((resolve) => {\n            let index = 0;\n            function catcher(e) {\n                errorHandler(e);\n            }\n            function thenF(res) {\n                if (myFuncs.length && (index < myFuncs.length)) {\n                    let f = myFuncs[index++];\n                    const r = f(res);\n                    if (r && r.then) {\n                        return r.then(thenF).catch(catcher);\n                    }\n                    return r;\n                }\n                return resolve(res);;\n            }\n            thenF(args);\n        });\n    };\n}\n\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.pick = exports.getPopupLinkCreator = void 0;\nconst controls_1 = require(\"./controls\");\nfunction getPopupLinkCreator(getURLSearchParams) {\n    return function popup(parameterName, definition, controls) {\n        const definitionName = definition.name;\n        const parameter = definition.parameters\n            .reduce((acc, p) => {\n            return p.name == parameterName ? p : acc;\n        });\n        if (!parameter) {\n            throw new Error(`Could not find Select(name=${parameterName})`);\n        }\n        const qs = controls_1.serializeValues(controls_1.addControlStoreToEsqlateQueryComponents(controls, []));\n        const backRoute = encodeURIComponent(`/${encodeURIComponent(definitionName)}?${qs}`);\n        const existingBack = controls_1.addBackValuesToControlStore(controls_1.urlSearchParamsToArguments(getURLSearchParams()), {});\n        const newBacks = controls_1.pushBackToControlStore(existingBack, {\n            url: backRoute,\n            def: definitionName,\n            fld: parameter.name,\n            val: parameter.value_field,\n            dis: parameter.display_field\n        });\n        const newQs = controls_1.serializeValues(controls_1.addControlStoreToEsqlateQueryComponents(newBacks, []));\n        return `/${encodeURIComponent(parameter.definition)}?${newQs}`;\n    };\n}\nexports.getPopupLinkCreator = getPopupLinkCreator;\nfunction pick(row, query, fields, setNull = false) {\n    const back = controls_1.popBackFromArguments(query);\n    function getFieldIndex(desiredFieldName) {\n        return fields.reduce((acc, f, i) => {\n            if (f.name == desiredFieldName) {\n                return i;\n            }\n            return acc;\n        }, -1);\n    }\n    function getEncodedValue() {\n        const valueIndex = getFieldIndex(back.val);\n        const displayIndex = getFieldIndex(back.dis);\n        if (valueIndex == -1) {\n            throw new Error(`Return is a field that doesn't exist ${back.val}`);\n        }\n        return encodeURIComponent(row[valueIndex]) + \" \" +\n            encodeURIComponent(row[displayIndex]);\n    }\n    const usp = new URLSearchParams(back.url.replace(/.*\\?/, ''));\n    const newQsValues = controls_1.urlSearchParamsToArguments(usp)\n        .filter((esqArg) => esqArg.name != back.fld)\n        .concat([{\n            name: back.fld,\n            val: setNull ? \"\" : getEncodedValue(),\n        }]);\n    const qs = controls_1.serializeValues(controls_1.addControlStoreToEsqlateQueryComponents({}, newQsValues));\n    return `/${encodeURIComponent(back.def)}?${qs}`;\n}\nexports.pick = pick;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getLocalStorage = void 0;\nconst wv_linewise_js_lib_1 = require(\"wv-linewise-js-lib\");\nlet memStorage = {};\nfunction getLocalStorage() {\n    if (wv_linewise_js_lib_1.runningInWvLinewise()) {\n        return {\n            getItem: function getItem(k) { return memStorage[k]; },\n            setItem: function setItem(k, v) { memStorage[k] = v; }\n        };\n    }\n    return window.localStorage;\n}\nexports.getLocalStorage = getLocalStorage;\n","import { get as getStoreValue, writable } from 'svelte/store';\nimport App from './App.svelte';\nimport { waitFor } from 'esqlate-waitfor';\nimport { getInitialViewStore, loadResults as loadResultsImpl, resultDemandHTTP, loadDefinitionHTTP, getInitilizeControls, getLoadDefinition } from \"./middleware\";\nimport { addControlStoreToEsqlateQueryComponents, popBackFromArguments, serializeValues, queryComponentsToArguments, urlSearchParamsToArguments } from \"./controls\";\nimport { runningInWvLinewise } from \"./js-wrap-wv-linewise-js-lib\"\nimport { getFullUrlFromResponseUrl } from \"./getFullUrlFromResponseUrl\";\nimport { consoleLog, getApiRoot, getURLSearchParams, getRequest, postRequest,errorHandler } from \"./io\";\nimport getCache from \"esqlate-cache\";\nimport promiseChain from \"./promiseChain\";\nimport { pick as runPick, getPopupLinkCreator } from \"./user-actions\";\nimport { getLocalStorage } from \"./storage\";\n\nwindow.onerror = errorHandler;\nwindow.onunhandledrejection = errorHandler;\n\nfunction popup(row) {\n    const runPopup = getPopupLinkCreator(getURLSearchParams);\n    const route = runPopup(row, getStoreValue(viewStore).definition, getStoreValue(viewStore).controls);\n    router.setRoute(route);\n}\n\nfunction pick(row) {\n    const route = runPick(\n        row,\n        urlSearchParamsToArguments(\n            getURLSearchParams()\n        ),\n        getStoreValue(viewStore).result.fields\n    );\n    router.setRoute(route);\n}\n\nfunction download(mimeType) {\n    const otherFormat = getStoreValue(viewStore).result.full_format_urls.filter(\n        (ffu) => ffu.type == mimeType\n    );\n    if (otherFormat.length == 0) {\n        throw Error(`Mime type ${mimeType} was requested but not found`);\n    }\n    if (runningInWvLinewise()) {\n        getRequest(otherFormat[0].location)\n            .catch((err) => {\n                console.log(err);\n            });\n        consoleLog(\"Opening in default viewer\");\n        alert(\"Opening in default viewer\");\n        return;\n    }\n    window.location = getFullUrlFromResponseUrl(getApiRoot(), otherFormat[0].location);\n}\n\n\nfunction cancelDownload() {\n    router.setRoute(\n        window.location.hash.replace(\n            /^#\\/?([^\\/]+)\\/((result)|(download))/,\n            \"/$1/result\"\n        )\n    );\n}\n\nfunction showDownloads() {\n    router.setRoute(\n        window.location.hash.replace(\n            /^#\\/?([^\\/]+)\\/((result)|(download))/,\n            \"/$1/download\"\n        )\n    );\n}\n\nfunction empty() {\n    const route = runPick(\n        [],\n        urlSearchParamsToArguments(getURLSearchParams()),\n        getStoreValue(viewStore).result.fields,\n        true\n    );\n    router.setRoute(route);\n}\n\nfunction cancel() {\n    router.setRoute(popBackFromArguments(\n        urlSearchParamsToArguments(getURLSearchParams())\n    ).url);\n}\n\nfunction run() {\n    const definitionName = getStoreValue(viewStore).definition.name;\n\n    const qs = serializeValues(\n        addControlStoreToEsqlateQueryComponents(\n            getStoreValue(viewStore).controls,\n            urlSearchParamsToArguments(getURLSearchParams())\n        )\n    );\n    const route = `/${encodeURIComponent(definitionName)}/request?${qs}`\n    router.setRoute(route);\n}\n\n\nfunction toggleShowingSql() {\n    viewStore.update((vs) => {\n        const value = !vs.showingSql;\n        getLocalStorage().setItem('showingSql', value);\n        return {...vs, showingSql: value }\n    });\n}\n\n\nfunction toggleShowingExtendedDisplay() {\n    viewStore.update((vs) => {\n        const value = !vs.showingExtendedDisplay;\n        getLocalStorage().setItem('showingExtendedDisplay', value);\n        return {...vs, showingExtendedDisplay: value }\n    });\n}\n\n\nfunction hideResults(ctx) {\n    viewStore.update((vs) => ({...vs, result: false }));\n    return Promise.resolve(ctx);\n}\n\n\nfunction createRequest(ctx) {\n\n    const data = {\n        \"arguments\": queryComponentsToArguments(\n            getStoreValue(viewStore).definition.parameters,\n            addControlStoreToEsqlateQueryComponents(\n                getStoreValue(viewStore).controls,\n                urlSearchParamsToArguments(\n                    getURLSearchParams()\n                )\n            )\n        )\n    };\n\n    const url = `/request/${ctx.params.definitionName}`;\n\n    const query = serializeValues(\n        addControlStoreToEsqlateQueryComponents(\n            getStoreValue(viewStore).controls,\n            data.arguments.map(({ name, value }) => ({ name, val: value }))\n        )\n    );\n\n    // TODO: Catch 422 etc\n    return postRequest(url, data)\n        .then((json) => {\n            const url = `/${encodeURIComponent(ctx.params.definitionName)}/request/${encodeURIComponent(json.location)}?${query}`;\n            router.setRoute(url);\n            return ctx;\n        });\n}\n\n\nfunction waitForRequest(ctx) {\n\n    function getReady() {\n        return getRequest(ctx.params.requestLocation)\n            .then((j) => {\n                if ((j.status == \"preview\") || (j.status == \"complete\")) {\n                    return { complete: true, value: j.location };\n                }\n                return { complete: false };\n            });\n    }\n\n    function calculateNewDelay(attemptsSoFar) { return attemptsSoFar * 300; }\n\n    const qry = addControlStoreToEsqlateQueryComponents(\n        getStoreValue(viewStore).controls,\n        urlSearchParamsToArguments(getURLSearchParams())\n    );\n\n    return waitFor(getReady, calculateNewDelay)\n        .then((loc) => {\n            const url = `/${encodeURIComponent(ctx.params.definitionName)}/result/${encodeURIComponent(loc)}?${serializeValues(qry)}`;\n            router.setRoute(url);\n            return ctx;\n        });\n\n}\n\n\nfunction loadResults(ctx) {\n\n    async function fetcher() {\n        return await getRequest(ctx.params.resultLocation);\n    }\n\n    const desiredStatus = ctx.params.showingDownload ?\n        [\"error\", \"complete\"] :\n        [\"error\", \"complete\", \"preview\"];\n\n\n    viewStore.update((vs) => {\n        return {\n            ...vs,\n            showingDownload: ctx.params.showingDownload\n        }\n    });\n\n    return loadResultsImpl(fetcher, getStoreValue(viewStore), desiredStatus)\n        .then((vs) => {\n            viewStore.set(vs);\n            return ctx;\n        });\n}\n\n\nfunction setPopupMode(ctx) {\n    viewStore.update((vs) => {\n        const asPopup = urlSearchParamsToArguments(getURLSearchParams())\n            .reduce(\n                (acc, esqArg) => {\n                    return esqArg.name == '_burl0' ? true : acc;\n                },\n                false\n            );\n        return {...vs, asPopup };\n    });\n    return Promise.resolve(ctx);\n}\n\nfunction finishedLoading(ctx) {\n    viewStore.update((vs) => {\n        return {...vs, loading: false}\n    });\n    return Promise.resolve(ctx);\n}\nfunction setLoading(ctx) {\n    viewStore.update((vs) => {\n        return {...vs, loading: true}\n    });\n    return Promise.resolve(ctx);\n}\n\nconst viewStore = writable({\n    ...getInitialViewStore(),\n    showingSql: (getLocalStorage().getItem('showingSql') === \"false\") ?\n        false :\n        true,\n    showingExtendedDisplay: (getLocalStorage().getItem('showingExtendedDisplay') === \"true\") ?\n        true :\n        false,\n});\n\nconst cacheDefinition = getCache(loadDefinitionHTTP);\nconst cacheCompleteResultForSelect = getCache(resultDemandHTTP);\n\ngetRequest(\"/definition\")\n    .then((menu) => viewStore.update((vs) => ({...vs, menu })))\n\nconst app = new App({\n\ttarget: document.body,\n\tprops: {\n        viewStore,\n        toggleShowingSql,\n        toggleShowingExtendedDisplay,\n        run,\n        popup,\n        pick,\n        empty,\n        cancel,\n        cancelDownload,\n        showDownloads,\n        download,\n    }\n});\n\n\nvar routes = {\n    '/': promiseChain(errorHandler, [\n        ([definitionName]) => {\n            consoleLog(`ROUTE: / (${window.location.hash})`);\n            viewStore.update((vs) => ({...vs, showingMenu: true }));\n            return Promise.resolve({ params: { definitionName } });\n        }\n    ]),\n    '/:definitionName': promiseChain(errorHandler, [\n        setLoading,\n        ([definitionName]) => {\n            consoleLog(`ROUTE: /:definitionName (${window.location.hash})`);\n            return Promise.resolve({ params: { definitionName } });\n        },\n        hideResults,\n        setPopupMode,\n        getLoadDefinition(cacheDefinition, viewStore),\n        getInitilizeControls(viewStore, getURLSearchParams, cacheCompleteResultForSelect),\n        hideResults,\n        finishedLoading,\n    ]),\n    '/:definitionName/request': promiseChain(errorHandler, [\n        setLoading,\n        ([definitionName]) => {\n            consoleLog(`ROUTE: /:definitionName/request (${window.location.hash})`);\n            return Promise.resolve({ params: { definitionName } });\n        },\n        hideResults,\n        setPopupMode,\n        getLoadDefinition(cacheDefinition, viewStore),\n        getInitilizeControls(viewStore, getURLSearchParams, cacheCompleteResultForSelect),\n        hideResults,\n        createRequest,\n    ]),\n    '/:definitionName/request/:requestLocation': promiseChain(errorHandler, [\n        setLoading,\n        ([definitionName, requestLocation]) => {\n            consoleLog(`ROUTE: /:definitionName/request/:requestLocation (${window.location.hash})`);\n            return Promise.resolve({\n                params: {\n                    definitionName,\n                    requestLocation: decodeURIComponent(requestLocation)\n                }\n            });\n        },\n        hideResults,\n        setPopupMode,\n        hideResults,\n        getLoadDefinition(cacheDefinition, viewStore),\n        getInitilizeControls(viewStore, getURLSearchParams, cacheCompleteResultForSelect),\n        waitForRequest,\n    ]),\n    '/:definitionName/:resultOrDownload/:resultLocation': promiseChain(errorHandler, [\n        ([definitionName, resultOrDownload, requestLocation]) => {\n            consoleLog(`ROUTE: /:definitionName/result/:resultLocation (${window.location.hash})`);\n            if (resultOrDownload == \"result\") {\n                setLoading();\n            }\n            return Promise.resolve({\n                params: {\n                    showingDownload: (resultOrDownload == \"download\"),\n                    definitionName,\n                    resultLocation: decodeURIComponent(requestLocation)\n                }\n            });\n        },\n        setPopupMode,\n        getLoadDefinition(cacheDefinition, viewStore),\n        getInitilizeControls(viewStore, getURLSearchParams, cacheCompleteResultForSelect),\n        loadResults,\n        (ctx) => {\n            const result = getStoreValue(viewStore).result;\n            if (result && result.message) {\n                esqlateShowToastError(result.message);\n            }\n            return Promise.resolve(ctx);\n        },\n        finishedLoading,\n    ]),\n};\n\nif (window.location.hash == \"\") {\n    window.location.hash = \"/\";\n}\n\nlet router;\nrouter = window.Router(routes);\nrouter.configure({\n    notfound: (_r) => {\n        router.setRoute(\"/\");\n    },\n});\nrouter.init();\n\n\nexport default app;\n"],"names":["noop","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","subscribe","store","callbacks","unsub","unsubscribe","get_store_value","value","_","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","i","length","d","element","name","document","createElement","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","prevent_default","preventDefault","call","this","attr","attribute","removeAttribute","getAttribute","setAttribute","to_number","set_data","wholeText","set_input_value","input","set_style","key","important","style","setProperty","select_option","select","option","__value","selected","toggle_class","toggle","classList","current_component","set_current_component","component","get_current_component","Error","afterUpdate","$$","after_update","push","createEventDispatcher","type","detail","e","createEvent","initCustomEvent","custom_event","slice","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","add_render_callback","add_flush_callback","flushing","seen_callbacks","Set","flush","update","pop","callback","has","add","clear","fragment","before_update","dirty","p","ctx","outroing","outros","group_outros","r","c","check_outros","transition_in","block","local","delete","transition_out","o","bind","index","props","undefined","bound","create_component","mount_component","on_mount","on_destroy","m","new_on_destroy","map","filter","destroy_component","make_dirty","then","fill","init","instance","create_fragment","not_equal","parent_component","prop_values","context","Map","skip_bound","ready","ret","rest","hydrate","nodes","Array","from","childNodes","children","l","intro","SvelteComponent","[object Object]","$destroy","indexOf","splice","$$props","obj","$$set","keys","subscriber_queue","ProcessDateTimeWhich","LineType","defineProperty","exports","decimalPlaceCount","control","indexOfT","date","substring","time","which","DATE","TIME","params","bitOfSql","reduce","acc","param","concat","s","lastPos","some","match","begin","end","findAll","highlightPositions","sorted","sort","hpa","hpb","hp","String","Field","href","class","link","peg$SyntaxError","message","expected","found","location","captureStackTrace","child","parent","ctor","constructor","prototype","peg$subclass","buildMessage","DESCRIBE_EXPECTATION_FNS","literal","expectation","literalEscape","escapedParts","parts","classEscape","inverted","any","other","description","hex","ch","charCodeAt","toString","toUpperCase","replace","j","descriptions","join","describeExpected","describeFound","SyntaxError","parse","peg$result","peg$FAILED","peg$startRuleFunctions","Statement","peg$parseStatement","peg$startRuleFunction","peg$c1","peg$literalExpectation","peg$c3","peg$c5","peg$c6","peg$c12","peg$c15","peg$c16","peg$c17","peg$classExpectation","peg$c19","peg$c20","peg$c21","peg$c22","peg$c24","peg$c25","peg$currPos","peg$posDetailsCache","line","column","peg$maxFailPos","peg$maxFailExpected","startRule","ignoreCase","peg$computePosDetails","pos","details","peg$computeLocation","startPos","endPos","startPosDetails","endPosDetails","start","offset","peg$fail","s0","s1","peg$parseComplexFunction","peg$parseSimpleVariable","peg$parseText","s2","s3","s4","s5","f","v","peg$parseDollar","test","charAt","peg$parseFunction","peg$parseFunctionCall","peg$parseValidVariableName","peg$parseComplexVariable","function","variable","peg$parseErrorDollar","peg$parseEscapedDollar","peg$parseNotDollar","substr","ParsedType","__read","n","Symbol","iterator","ar","next","done","error","__spread","arguments","rawParse","parser","newlineBreak","statement","allButLast","last","item","_a","split","split0","splitRest","html_line","pre","tagIdClass","inner","ed","attrs","postNewlineRemove","parameters","stat","innerAcc","TEXT","findingName","find","getParameter","forHyper","h","hdoc","hd","renderLinkText","row","escape","getParameters","nofs","nof","callF","ela","fun","namesOfFields","encodeURIComponent","ei","url","k","entries","val","cs","esqArg","fromCs","getOwnPropertyNames","hasOwnProperty","query","esqlateDefinitionParameters","optionsForSelect","inputValues","set","selectSetValue","op","get","parameter","ps","result","status","valueIndex","displayIndex","fields","fld","value_field","display_field","display","getOptions","assign","values","ea","parameterCounts","popup","process","textOrHref","esqlate_lib_1","par","rawRow","args","argsAsOb","arg","field","qry","csv","desiredNumber","parseInt","getBackNumber","decodeURIComponent","def","dis","queryComps","popups","qc","debounce","func","wait","immediate","timeout","timestamp","later","Date","now","setTimeout","apply","debounced","callNow","clearTimeout","row_links","rows","full_data_set","alignment","getLink","normalizeLink","asRow","definition","controls","inPopup","pick","showDownloads","id","syncTable","getElementById","stylesheet","sheet","rules","removeRule","resetStylesheet","requiredWidth","getBoundingClientRect","width","insertRule","dateFormatter","Intl","DateTimeFormat","window","navigator","language","year","month","day","timestampFormatter","hour","minute","second","formatters","format","jsonb","JSON","stringify","onresize","currentResults","currentControls","sqlType","myArgs","highlight_fields","initializeDateTime","onblur","onfocus","onerror","onfix","dispatchNewValue","emptyCheck","empty_string_is_null","evtValue","processDateTime","getDisplayValue","controlValue","getStep","decimal_places","validator","validationFunc","isDateOk","isIntegerOk","isDecimalOk","selected_option","querySelector","theItem","parameterNames","getHightlightString","getHightlightPositions","links","the_links","title","statement_type","asPopup","showingSql","showingDownload","buttonClass","top_links","parameterIsAvailable","render","getDownloads","menu","showingMenu","showingExtendedDisplay","loading","styleEl","head","getElementsByTagName","flds","dataset","highlightFields","statementType","full_format_urls","cancelDownload","cancel","viewStore","download","toggleShowingSql","toggleShowingExtendedDisplay","getColorCache","getColor","querySelectorAll","el","getComputedStyle","color","md","markdownit","sidebarActive","configActive","errorFields","redrawErrorStylesheet","allErrors","addedError","errorField","getStoreValue","remove","hf","vs","mimeType","$viewStore","waitForImpl","repeatEvery","finishRepeatUntil","getTime","getNewDelay","requestStartTime","attempts","inProgress","reject","caller","complete","interval","catch","waitFor","setInterval","apiRoot","responseUrl","URL","_e","apiRootUrl","protocol","REQUEST_TYPE","OUT_REQUEST_DESCRIPTOR","RESPONSE_TYPE","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","rejected","RawWvLinewise","external","respFnsOnce","messageError","streamList","paused","finished","respFns","_globalWvLinewise","fire","shift","fires","getResponseDispatcher","invoke","super","_s","streamData","running","started","startedCounts","streamName","count","rewindable","DETAILS","stream","lineNumber","LINE","PAUSED","FINISHED","msg","EXIT","body","innerText","STREAM_LIST","streams","PARAMS","STREAM_CONTINUE","OUT","descriptor","console","log","STREAM_START","ERROR","raw","request","STDOUT","on","once","off","webkit","messageHandlers","postMessage","WvLinewiseBufferState","wvl","lowWaterMark","countToRequest","buffer","state","NotStarted","noSleep","wv_linewise_1","onlyOnceResolve","called","onlyOnce","eventNotification","streamStart","streamContinue","notify","WvHeaders","_name","_value","callbackfn","x","kv","WvLinewiseResponse","resp_text","headers","redirected","trailer","bodyUsed","ok","statusText","getStatusText","statuses","CONTINUE","SWITCHING_PROTOCOLS","OK","CREATED","ACCEPTED","NON_AUTHORITATIVE_INFORMATION","NO_CONTENT","RESET_CONTENT","PARTIAL_CONTENT","MULTIPLE_CHOICES","MOVED_PERMANENTLY","FOUND","SEE_OTHER","NOT_MODIFIED","USE_PROXY","TEMPORARY_REDIRECT","BAD_REQUEST","UNAUTHORIZED","PAYMENT_REQUIRED","FORBIDDEN","NOT_FOUND","METHOD_NOT_ALLOWED","NOT_ACCEPTABLE","PROXY_AUTHENTICATION_REQUIRED","REQUEST_TIMEOUT","CONFLICT","GONE","LENGTH_REQUIRED","PRECONDITION_FAILED","REQUEST_ENTITY_TOO_LARGE","REQUEST_URI_TOO_LONG","UNSUPPORTED_MEDIA_TYPE","REQUESTED_RANGE_NOT_SATISFIABLE","EXPECTATION_FAILED","UNPROCESSABLE_ENTITY","TOO_MANY_REQUESTS","INTERNAL_SERVER_ERROR","NOT_IMPLEMENTED","BAD_GATEWAY","SERVICE_UNAVAILABLE","GATEWAY_TIMEOUT","HTTP_VERSION_NOT_SUPPORTED","getWvLinewiseFetch","responseStream","wvlBuffer","wv_linewise_buffer_1","WvLinewiseBuffer","requestOffset","promises","currents","mainRegex","wvLinewiseFetch","opts","out","wvLinewiseFetchSerialize","wvLinewiseFetchRequest","stripPreWhitespace","wvLinewiseFetchParseLine","current","command","lineStripped","isNaN","parsed","method","serialize","extractFromLine","initializeAndReturn","pendingCount","getTimeout","processing","backoffNumber","looper","clearInterval","wvLinewiseManagedFetch","rp","__createBinding","k2","enumerable","__exportStar","require$$0","require$$1","require$$2","getApiRoot","apiServer","getFullUrlFromResponseUrl_1","getFullUrlFromResponseUrl","origin","throwOnInvalidStatusCodes","apiUrl","resp","handleResponse","json","consoleLog","URLSearchParams","hash","wv_linewise_js_lib_1","WvLinewise","externalInvoke","wvFetch","getWvLinewiseManagedFetch","runningInWvLinewise","fcDiv","fcDivId","createAttribute","setAttributeNode","div","txt","fakeConsoleLog","fetchFunc","fetch","mode","cache","x-no-redirect","Content-Type","reason","esqlateShowToastError","alert","definitionName","io_1","getRequest","postRequest","getURLSearchParams","cacheSuccessResultForSelect","selects","all","controls_1","getControlStore","urlSearchParamsToArguments","normalize","removeLineBeginningWhitespace","cacheDefinition","fetcher","desiredState","inDesiredState","statusStr","esqlate_waitfor_1","attemptsSoFar","__importDefault","mod","__esModule","default","retreiving","errors","getWaitForF","_i","cacheKey","_n","promiseChain","errorHandler","funcs","myFuncs","catcher","thenF","res","parameterName","qs","serializeValues","addControlStoreToEsqlateQueryComponents","backRoute","existingBack","addBackValuesToControlStore","newBacks","pushBackToControlStore","newQs","setNull","back","popBackFromArguments","getFieldIndex","desiredFieldName","usp","newQsValues","getEncodedValue","memStorage","getItem","setItem","localStorage","hideResults","setPopupMode","finishedLoading","setLoading","onunhandledrejection","stop","subscribers","new_value","run_queue","invalidate","subscriber","writable","getInitialViewStore","getLocalStorage","getCache","loadDefinitionHTTP","cacheCompleteResultForSelect","resultDemandHTTP","app","route","router","setRoute","getPopupLinkCreator","runPopup","runPick","otherFormat","ffu","err","routes","/","/:definitionName","getLoadDefinition","getInitilizeControls","/:definitionName/request","queryComponentsToArguments","/:definitionName/request/:requestLocation","requestLocation","loc","/:definitionName/:resultOrDownload/:resultLocation","resultOrDownload","resultLocation","desiredStatus","loadResultsImpl","async","Router","configure","notfound","_r"],"mappings":"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"}